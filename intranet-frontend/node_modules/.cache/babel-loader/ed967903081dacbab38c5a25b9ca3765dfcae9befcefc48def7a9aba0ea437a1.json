{"ast":null,"code":"import { defineComponent, ref, onMounted } from 'vue';\nimport FullCalendar from '@fullcalendar/vue3';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport esLocale from '@fullcalendar/core/locales/es';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport moment from 'moment';\nimport * as XLSX from 'xlsx';\nexport default defineComponent({\n  components: {\n    FullCalendar\n  },\n  setup() {\n    const calendarRef = ref(null);\n    const getCalendarTitle = () => {\n      if (calendarRef.value) {\n        const calendarApi = calendarRef.value.getApi();\n        return calendarApi.view.title;\n      }\n      return '';\n    };\n    onMounted(() => {\n      getCalendarTitle();\n    });\n    return {\n      calendarRef,\n      getCalendarTitle\n    };\n  },\n  data() {\n    return {\n      isLoading: true,\n      eventGuid: 0,\n      showModal: false,\n      showDirectorioModal: false,\n      viewMode: 'cards',\n      showToast: false,\n      toastMessage: '',\n      toastType: 'success',\n      toastIcon: 'check-circle',\n      showEmptyState: false,\n      newBirthday: {\n        nombre: '',\n        departamento: '',\n        birthday: ''\n      },\n      directorio: [],\n      searchTerm: '',\n      filterDepartamento: '',\n      calendarTitle: '',\n      departamentos: [{\n        id: '1',\n        nombre: 'Despacho superior',\n        color: '#6366f1'\n      }, {\n        id: '2',\n        nombre: 'Secretaría',\n        color: '#f59e0b'\n      }, {\n        id: '3',\n        nombre: 'Relaciones públicas',\n        color: '#10b981'\n      }, {\n        id: '4',\n        nombre: 'Administración',\n        color: '#06b6d4'\n      }, {\n        id: '5',\n        nombre: 'Recursos humanos',\n        color: '#3b82f6'\n      }, {\n        id: '6',\n        nombre: 'Análisis operativo',\n        color: '#8b5cf6'\n      }, {\n        id: '7',\n        nombre: 'Análisis estratégico',\n        color: '#ec4899'\n      }, {\n        id: '8',\n        nombre: 'Asesoría legal',\n        color: '#f97316'\n      }, {\n        id: '9',\n        nombre: 'Contact Center',\n        color: '#14b8a6'\n      }, {\n        id: '10',\n        nombre: 'Cooperación nacional e internacional',\n        color: '#ef4444'\n      }, {\n        id: '11',\n        nombre: 'Tecnología',\n        color: '#64748b'\n      }],\n      calendarOptions: {\n        plugins: [dayGridPlugin, interactionPlugin],\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'customButtons'\n        },\n        customButtons: {\n          customButtons: {\n            text: '',\n            hint: 'Acciones',\n            click: () => {}\n          }\n        },\n        views: {\n          dayGridMonth: {\n            dayHeaderContent: arg => {\n              return arg.text.charAt(0).toUpperCase() + arg.text.slice(1);\n            }\n          }\n        },\n        initialView: 'dayGridMonth',\n        locale: esLocale,\n        editable: false,\n        selectable: false,\n        selectMirror: true,\n        dayMaxEvents: 3,\n        datesSet: dateInfo => {\n          this.checkEmptyState();\n        },\n        weekends: true,\n        eventClick: this.handleEventClick,\n        eventsSet: this.handleEvents,\n        events: this.fetchEvents,\n        eventDisplay: 'block',\n        eventClassNames: 'custom-event-wrapper',\n        dayCellClassNames: arg => {\n          if (arg.isToday) {\n            return ['today-cell'];\n          }\n          return [];\n        },\n        height: 600,\n        contentHeight: 550\n      },\n      currentEvents: [],\n      monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre']\n    };\n  },\n  mounted() {\n    // Simulate loading\n    setTimeout(() => {\n      this.isLoading = false;\n      // Wait for next tick to ensure calendar is rendered\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.addCustomButtons();\n        }, 100);\n      });\n    }, 500);\n  },\n  computed: {\n    filteredDirectorio() {\n      return this.directorio.filter(usuario => {\n        const matchesSearchTerm = usuario.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) || usuario.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\n        const matchesDepartamento = this.filterDepartamento ? usuario.departamento === this.filterDepartamento : true;\n        return matchesSearchTerm && matchesDepartamento;\n      });\n    }\n  },\n  methods: {\n    closeModal() {\n      this.showModal = false;\n      this.newBirthday = {\n        nombre: '',\n        departamento: '',\n        birthday: ''\n      };\n    },\n    closeDirectorio() {\n      this.showDirectorioModal = false;\n      this.searchTerm = '';\n      this.filterDepartamento = '';\n    },\n    addCustomButtons() {\n      if (!this.$refs.calendar) {\n        console.warn('Calendar ref not available');\n        return;\n      }\n      const calendarEl = this.$refs.calendar.$el;\n      if (!calendarEl) {\n        console.warn('Calendar element not available');\n        return;\n      }\n      const toolbar = calendarEl.querySelector('.fc-toolbar-chunk:last-child');\n      if (toolbar) {\n        toolbar.innerHTML = `\n          <div class=\"btn-group\" role=\"group\">\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" id=\"addBirthdayBtn\">\n              <i class=\"fas fa-plus me-2\"></i>Agregar Cumpleaños\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"directoryBtn\">\n              <i class=\"fas fa-users me-2\"></i>Directorio\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"downloadBtn\">\n              <i class=\"fas fa-download me-2\"></i>Descargar Excel\n            </button>\n          </div>\n        `;\n        document.getElementById('addBirthdayBtn').addEventListener('click', () => {\n          this.showModal = true;\n        });\n        document.getElementById('directoryBtn').addEventListener('click', () => {\n          this.showDirectorio();\n        });\n        document.getElementById('downloadBtn').addEventListener('click', () => {\n          this.downloadExcel();\n        });\n      }\n    },\n    getInitials(name) {\n      const names = name.split(' ');\n      if (names.length >= 2) {\n        return names[0].charAt(0).toUpperCase() + names[1].charAt(0).toUpperCase();\n      }\n      return name.substring(0, 2).toUpperCase();\n    },\n    getShortName(name) {\n      const names = name.split(' ');\n      if (names.length >= 2) {\n        return names[0] + ' ' + names[1].charAt(0) + '.';\n      }\n      return name;\n    },\n    getDepartmentColor(departmentId) {\n      const dept = this.departamentos.find(d => d.id === departmentId);\n      return dept ? dept.color : '#94a3b8';\n    },\n    getDepartmentColorByName(departmentName) {\n      const dept = this.departamentos.find(d => d.nombre === departmentName);\n      return dept ? dept.color : '#94a3b8';\n    },\n    showToastNotification(message, type = 'success') {\n      this.toastMessage = message;\n      this.toastType = type;\n      this.toastIcon = type === 'success' ? 'check-circle' : 'exclamation-circle';\n      this.showToast = true;\n      setTimeout(() => {\n        this.showToast = false;\n      }, 3000);\n    },\n    handleEventClick(clickInfo) {\n      const eventEl = clickInfo.el;\n      eventEl.style.transform = 'scale(0.95)';\n      setTimeout(() => {\n        eventEl.style.transform = 'scale(1)';\n      }, 100);\n      Swal.fire({\n        title: '¿Eliminar cumpleaños?',\n        html: `\n          <div class=\"text-center\">\n            <div class=\"mb-3\">\n              <div class=\"user-avatar-large mx-auto mb-2\">\n                ${this.getInitials(clickInfo.event.title)}\n              </div>\n              <h5>${clickInfo.event.title}</h5>\n              <p class=\"text-muted\">${clickInfo.event.extendedProps.departamento}</p>\n            </div>\n          </div>\n        `,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#ef4444',\n        cancelButtonColor: '#6b7280',\n        confirmButtonText: 'Sí, eliminar',\n        cancelButtonText: 'Cancelar',\n        customClass: {\n          popup: 'modern-swal'\n        }\n      }).then(result => {\n        if (result.isConfirmed) {\n          axios.put(`http://localhost:8000/api/birthdays/${clickInfo.event.id}`, {\n            deleted: true\n          }).then(() => {\n            clickInfo.event.remove();\n            this.showToastNotification('Cumpleaños eliminado correctamente');\n            // Verificar si hay eventos después de eliminar\n            setTimeout(() => {\n              this.checkEmptyState();\n            }, 100);\n          }).catch(() => {\n            this.showToastNotification('Error al eliminar el cumpleaños', 'error');\n          });\n        }\n      });\n    },\n    handleEvents(events) {\n      this.currentEvents = events;\n      this.calendarTitle = this.getCalendarTitle();\n      this.checkEmptyState();\n    },\n    checkEmptyState() {\n      // Obtener el mes actual del calendario\n      const calendarApi = this.$refs.calendar?.getApi();\n      if (calendarApi) {\n        const currentDate = calendarApi.getDate();\n        const currentMonth = currentDate.getMonth();\n        const currentYear = currentDate.getFullYear();\n\n        // Filtrar eventos del mes actual\n        const eventsInCurrentMonth = this.currentEvents.filter(event => {\n          const eventDate = new Date(event.start);\n          return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;\n        });\n        this.showEmptyState = eventsInCurrentMonth.length === 0;\n      }\n    },\n    fetchEvents(fetchInfo, successCallback, failureCallback) {\n      axios.get('http://localhost:8000/api/birthdays').then(response => {\n        const events = response.data.map(event => ({\n          id: event.id,\n          title: event.nombre,\n          start: event.birthday,\n          allDay: true,\n          backgroundColor: this.getDepartmentColorByName(event.departamento),\n          borderColor: this.getDepartmentColorByName(event.departamento),\n          extendedProps: {\n            departamento: event.departamento\n          }\n        }));\n        successCallback(events);\n        // Verificar empty state después de cargar eventos\n        this.$nextTick(() => {\n          this.checkEmptyState();\n        });\n      }).catch(error => {\n        console.error('Error fetching events:', error);\n        if (typeof failureCallback === 'function') {\n          failureCallback(error);\n        }\n      });\n    },\n    createEventId() {\n      return String(this.eventGuid++);\n    },\n    addBirthday() {\n      const formattedBirthday = moment(this.newBirthday.birthday).format('YYYY-MM-DD');\n      const birthdayData = {\n        ...this.newBirthday,\n        birthday: formattedBirthday\n      };\n      axios.post('http://localhost:8000/api/addBirthday', birthdayData).then(() => {\n        this.closeModal();\n        this.$refs.calendar.getApi().refetchEvents();\n        this.showToastNotification('Cumpleaños agregado correctamente');\n      }).catch(error => {\n        this.showToastNotification('Error al agregar el cumpleaños', 'error');\n      });\n    },\n    downloadExcel() {\n      const events = this.currentEvents;\n      const currentDate = this.$refs.calendar.getApi().getDate();\n      const month = moment(currentDate).format('M');\n      const monthName = this.monthNames[month - 1];\n      const filteredEvents = events.filter(event => moment(event.start).format('M') === month);\n      if (filteredEvents.length === 0) {\n        this.showToastNotification('No hay cumpleaños para exportar este mes', 'error');\n        return;\n      }\n      const worksheet = XLSX.utils.json_to_sheet(filteredEvents.map(event => ({\n        Nombre: event.title,\n        Departamento: event.extendedProps.departamento,\n        Cumpleaños: moment(event.start).format('DD/MM/YYYY')\n      })));\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Cumpleaños');\n      XLSX.writeFile(workbook, `Cumpleaños_${monthName}_2025.xlsx`);\n      this.showToastNotification('Excel descargado correctamente');\n    },\n    showDirectorio() {\n      axios.get('http://localhost:8000/api/directorio_usuarios').then(response => {\n        this.directorio = response.data.data;\n        this.showDirectorioModal = true;\n      }).catch(error => {\n        console.error('Error fetching directorio:', error);\n        this.showToastNotification('Error al cargar el directorio', 'error');\n      });\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","ref","onMounted","FullCalendar","dayGridPlugin","interactionPlugin","esLocale","axios","Swal","moment","XLSX","components","setup","calendarRef","getCalendarTitle","value","calendarApi","getApi","view","title","data","isLoading","eventGuid","showModal","showDirectorioModal","viewMode","showToast","toastMessage","toastType","toastIcon","showEmptyState","newBirthday","nombre","departamento","birthday","directorio","searchTerm","filterDepartamento","calendarTitle","departamentos","id","color","calendarOptions","plugins","headerToolbar","left","center","right","customButtons","text","hint","click","views","dayGridMonth","dayHeaderContent","arg","charAt","toUpperCase","slice","initialView","locale","editable","selectable","selectMirror","dayMaxEvents","datesSet","dateInfo","checkEmptyState","weekends","eventClick","handleEventClick","eventsSet","handleEvents","events","fetchEvents","eventDisplay","eventClassNames","dayCellClassNames","isToday","height","contentHeight","currentEvents","monthNames","mounted","setTimeout","$nextTick","addCustomButtons","computed","filteredDirectorio","filter","usuario","matchesSearchTerm","toLowerCase","includes","correo_electronico","matchesDepartamento","methods","closeModal","closeDirectorio","$refs","calendar","console","warn","calendarEl","$el","toolbar","querySelector","innerHTML","document","getElementById","addEventListener","showDirectorio","downloadExcel","getInitials","name","names","split","length","substring","getShortName","getDepartmentColor","departmentId","dept","find","d","getDepartmentColorByName","departmentName","showToastNotification","message","type","clickInfo","eventEl","el","style","transform","fire","html","event","extendedProps","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","customClass","popup","then","result","isConfirmed","put","deleted","remove","catch","currentDate","getDate","currentMonth","getMonth","currentYear","getFullYear","eventsInCurrentMonth","eventDate","Date","start","fetchInfo","successCallback","failureCallback","get","response","map","allDay","backgroundColor","borderColor","error","createEventId","String","addBirthday","formattedBirthday","format","birthdayData","post","refetchEvents","month","monthName","filteredEvents","worksheet","utils","json_to_sheet","Nombre","Departamento","Cumpleaños","workbook","book_new","book_append_sheet","writeFile"],"sources":["C:\\xampp\\htdocs\\intranet\\intranet-frontend\\src\\components\\Calendario_colaboradores.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid p-0\">\r\n    <div class=\"main-content p-4\">\r\n      <!-- Loading State -->\r\n      <div v-if=\"isLoading\" class=\"calendar-skeleton\">\r\n        <div class=\"skeleton-header mb-4\">\r\n          <div class=\"skeleton-box\" style=\"width: 200px; height: 40px;\"></div>\r\n          <div class=\"skeleton-box\" style=\"width: 250px; height: 36px;\"></div>\r\n          <div class=\"skeleton-box\" style=\"width: 300px; height: 36px;\"></div>\r\n        </div>\r\n        <div class=\"skeleton-calendar\">\r\n          <div v-for=\"i in 35\" :key=\"i\" class=\"skeleton-day\">\r\n            <div class=\"skeleton-box\" style=\"width: 100%; height: 80px;\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Calendar Component -->\r\n      <div v-else class=\"calendar-wrapper\">\r\n        <FullCalendar\r\n            ref=\"calendar\"\r\n            :options=\"calendarOptions\"\r\n        >\r\n          <template v-slot:eventContent=\"arg\">\r\n            <div class=\"custom-event\" :title=\"`${arg.event.title} - ${arg.event.extendedProps.departamento}`\">\r\n              <div class=\"event-content\">\r\n                <span class=\"event-initials\">{{ getInitials(arg.event.title) }}</span>\r\n                <span class=\"event-name\">{{ getShortName(arg.event.title) }}</span>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </FullCalendar>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-if=\"!isLoading && showEmptyState\" class=\"empty-state mt-4\">\r\n        <div class=\"empty-icon\">\r\n          <font-awesome-icon :icon=\"['fas', 'birthday-cake']\" />\r\n        </div>\r\n        <h5>No hay cumpleaños este mes</h5>\r\n        <p class=\"text-muted\">¡Sé el primero en agregar un cumpleaños!</p>\r\n        <button class=\"btn btn-primary btn-sm\" @click=\"showModal = true\">\r\n          <font-awesome-icon :icon=\"['fas', 'plus']\" class=\"me-2\" />\r\n          Agregar Cumpleaños\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Modal para agregar cumpleaños -->\r\n      <div v-if=\"showModal\" class=\"modal fade show d-block\" tabindex=\"-1\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\">\r\n                <font-awesome-icon :icon=\"['fas', 'birthday-cake']\" class=\"me-2 text-primary\" />\r\n                Agregar Cumpleaños\r\n              </h5>\r\n              <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <form @submit.prevent=\"addBirthday\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"nombre\" class=\"form-label\">\r\n                    <font-awesome-icon :icon=\"['fas', 'user']\" class=\"me-2 text-muted\" />\r\n                    Nombre\r\n                  </label>\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      id=\"nombre\"\r\n                      v-model=\"newBirthday.nombre\"\r\n                      placeholder=\"Ingrese el nombre completo\"\r\n                      required\r\n                  >\r\n                </div>\r\n\r\n                <div class=\"mb-3\">\r\n                  <label for=\"departamento\" class=\"form-label\">\r\n                    <font-awesome-icon :icon=\"['fas', 'building']\" class=\"me-2 text-muted\" />\r\n                    Departamento\r\n                  </label>\r\n                  <div class=\"position-relative\">\r\n                    <select\r\n                        name=\"departamento\"\r\n                        v-model=\"newBirthday.departamento\"\r\n                        id=\"departamento\"\r\n                        class=\"form-control\"\r\n                        required\r\n                    >\r\n                      <option value=\"\">Selecciona un departamento</option>\r\n                      <option\r\n                          v-for=\"dept in departamentos\"\r\n                          :key=\"dept.id\"\r\n                          :value=\"dept.id\"\r\n                      >\r\n                        {{ dept.nombre }}\r\n                      </option>\r\n                    </select>\r\n                    <div\r\n                        v-if=\"newBirthday.departamento\"\r\n                        class=\"color-indicator\"\r\n                        :style=\"`background-color: ${getDepartmentColor(newBirthday.departamento)}`\"\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"mb-3\">\r\n                  <label for=\"birthday\" class=\"form-label\">\r\n                    <font-awesome-icon :icon=\"['fas', 'calendar-alt']\" class=\"me-2 text-muted\" />\r\n                    Fecha de Cumpleaños\r\n                  </label>\r\n                  <input\r\n                      type=\"date\"\r\n                      class=\"form-control\"\r\n                      id=\"birthday\"\r\n                      v-model=\"newBirthday.birthday\"\r\n                      required\r\n                  >\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-end gap-2\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeModal\">\r\n                    Cancelar\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                    <font-awesome-icon :icon=\"['fas', 'check']\" class=\"me-2\" />\r\n                    Guardar\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showModal\" class=\"modal-backdrop fade show\"></div>\r\n\r\n      <!-- Modal para directorio de colaboradores -->\r\n      <div v-if=\"showDirectorioModal\" class=\"modal fade show d-block\" tabindex=\"-1\">\r\n        <div class=\"modal-dialog modal-xl modal-dialog-centered\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\">\r\n                <font-awesome-icon :icon=\"['fas', 'users']\" class=\"me-2 text-primary\" />\r\n                Directorio de Colaboradores\r\n              </h5>\r\n              <button type=\"button\" class=\"btn-close\" @click=\"closeDirectorio\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <!-- Controls -->\r\n              <div class=\"mb-4\">\r\n                <div class=\"row g-3\">\r\n                  <div class=\"col-md-6\">\r\n                    <div class=\"position-relative\">\r\n                      <font-awesome-icon :icon=\"['fas', 'search']\" class=\"search-icon\" />\r\n                      <input\r\n                          type=\"text\"\r\n                          class=\"form-control ps-5\"\r\n                          v-model=\"searchTerm\"\r\n                          placeholder=\"Buscar por nombre o correo...\"\r\n                      >\r\n                      <span v-if=\"searchTerm\" class=\"search-results\">\r\n                        {{ filteredDirectorio.length }} resultados\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <select class=\"form-control\" v-model=\"filterDepartamento\">\r\n                      <option value=\"\">Todos los Departamentos</option>\r\n                      <option v-for=\"dept in departamentos\" :key=\"dept.id\" :value=\"dept.nombre\">\r\n                        {{ dept.nombre }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-md-2\">\r\n                    <div class=\"btn-group w-100\" role=\"group\">\r\n                      <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-outline-secondary\"\r\n                          :class=\"{ active: viewMode === 'cards' }\"\r\n                          @click=\"viewMode = 'cards'\"\r\n                          title=\"Vista de tarjetas\"\r\n                      >\r\n                        <font-awesome-icon :icon=\"['fas', 'th-large']\" />\r\n                      </button>\r\n                      <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-outline-secondary\"\r\n                          :class=\"{ active: viewMode === 'table' }\"\r\n                          @click=\"viewMode = 'table'\"\r\n                          title=\"Vista de tabla\"\r\n                      >\r\n                        <font-awesome-icon :icon=\"['fas', 'table']\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Department Filters -->\r\n                <div v-if=\"filterDepartamento\" class=\"mt-3\">\r\n                  <span class=\"badge bg-primary me-2\">\r\n                    {{ filterDepartamento }}\r\n                    <button @click=\"filterDepartamento = ''\" class=\"btn-close btn-close-white ms-2\" style=\"font-size: 0.7rem;\"></button>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Directory Content -->\r\n              <div class=\"directory-content\">\r\n                <!-- Cards View -->\r\n                <div v-if=\"viewMode === 'cards'\" class=\"row g-3\">\r\n                  <div\r\n                      v-for=\"usuario in filteredDirectorio\"\r\n                      :key=\"usuario.correo_electronico\"\r\n                      class=\"col-md-6 col-lg-4\"\r\n                  >\r\n                    <div class=\"card h-100 border-0 shadow-sm\">\r\n                      <div class=\"card-body d-flex align-items-center\">\r\n                        <div class=\"avatar-circle me-3\">\r\n                          {{ getInitials(usuario.nombre) }}\r\n                        </div>\r\n                        <div class=\"flex-grow-1\">\r\n                          <h6 class=\"mb-1\">{{ usuario.nombre }}</h6>\r\n                          <p class=\"text-muted small mb-1\">\r\n                            <font-awesome-icon :icon=\"['fas', 'envelope']\" class=\"me-1\" />\r\n                            {{ usuario.correo_electronico }}\r\n                          </p>\r\n                          <div class=\"d-flex align-items-center gap-2\">\r\n                            <span class=\"badge\" :style=\"`background-color: ${getDepartmentColorByName(usuario.departamento)}20; color: ${getDepartmentColorByName(usuario.departamento)}`\">\r\n                              <font-awesome-icon :icon=\"['fas', 'building']\" class=\"me-1\" />\r\n                              {{ usuario.departamento }}\r\n                            </span>\r\n                            <small class=\"text-muted\">\r\n                              <font-awesome-icon :icon=\"['fas', 'phone']\" class=\"me-1\" />\r\n                              Ext. {{ usuario.extension }}\r\n                            </small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Table View -->\r\n                <div v-else class=\"table-responsive\">\r\n                  <table class=\"table table-hover\">\r\n                    <thead>\r\n                    <tr>\r\n                      <th>Colaborador</th>\r\n                      <th>Correo Electrónico</th>\r\n                      <th>Departamento</th>\r\n                      <th>Extensión</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr v-for=\"usuario in filteredDirectorio\" :key=\"usuario.correo_electronico\">\r\n                      <td>\r\n                        <div class=\"d-flex align-items-center\">\r\n                          <div class=\"avatar-circle-small me-2\">\r\n                            {{ getInitials(usuario.nombre) }}\r\n                          </div>\r\n                          {{ usuario.nombre }}\r\n                        </div>\r\n                      </td>\r\n                      <td>{{ usuario.correo_electronico }}</td>\r\n                      <td>\r\n                          <span class=\"badge\" :style=\"`background-color: ${getDepartmentColorByName(usuario.departamento)}20; color: ${getDepartmentColorByName(usuario.departamento)}`\">\r\n                            {{ usuario.departamento }}\r\n                          </span>\r\n                      </td>\r\n                      <td>{{ usuario.extension }}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                <!-- Empty State -->\r\n                <div v-if=\"filteredDirectorio.length === 0\" class=\"text-center py-5\">\r\n                  <font-awesome-icon :icon=\"['fas', 'search']\" class=\"text-muted mb-3\" style=\"font-size: 3rem;\" />\r\n                  <h5>No se encontraron colaboradores</h5>\r\n                  <p class=\"text-muted\">Intenta ajustar los filtros de búsqueda</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showDirectorioModal\" class=\"modal-backdrop fade show\"></div>\r\n\r\n      <!-- Toast Notifications -->\r\n      <transition name=\"toast\">\r\n        <div v-if=\"showToast\" class=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n          <div class=\"toast show\" :class=\"`border-${toastType === 'success' ? 'success' : 'danger'}`\">\r\n            <div class=\"toast-body\">\r\n              <font-awesome-icon :icon=\"['fas', toastIcon]\" :class=\"`text-${toastType === 'success' ? 'success' : 'danger'} me-2`\" />\r\n              {{ toastMessage }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from 'vue'\r\nimport FullCalendar from '@fullcalendar/vue3'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport esLocale from '@fullcalendar/core/locales/es'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport moment from 'moment'\r\nimport * as XLSX from 'xlsx'\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    FullCalendar,\r\n  },\r\n  setup() {\r\n    const calendarRef = ref(null);\r\n\r\n    const getCalendarTitle = () => {\r\n      if (calendarRef.value) {\r\n        const calendarApi = calendarRef.value.getApi();\r\n        return calendarApi.view.title;\r\n      }\r\n      return '';\r\n    };\r\n\r\n    onMounted(() => {\r\n      getCalendarTitle();\r\n    });\r\n\r\n    return { calendarRef, getCalendarTitle };\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      eventGuid: 0,\r\n      showModal: false,\r\n      showDirectorioModal: false,\r\n      viewMode: 'cards',\r\n      showToast: false,\r\n      toastMessage: '',\r\n      toastType: 'success',\r\n      toastIcon: 'check-circle',\r\n      showEmptyState: false,\r\n      newBirthday: {\r\n        nombre: '',\r\n        departamento: '',\r\n        birthday: ''\r\n      },\r\n      directorio: [],\r\n      searchTerm: '',\r\n      filterDepartamento: '',\r\n      calendarTitle: '',\r\n      departamentos: [\r\n        { id: '1', nombre: 'Despacho superior', color: '#6366f1' },\r\n        { id: '2', nombre: 'Secretaría', color: '#f59e0b' },\r\n        { id: '3', nombre: 'Relaciones públicas', color: '#10b981' },\r\n        { id: '4', nombre: 'Administración', color: '#06b6d4' },\r\n        { id: '5', nombre: 'Recursos humanos', color: '#3b82f6' },\r\n        { id: '6', nombre: 'Análisis operativo', color: '#8b5cf6' },\r\n        { id: '7', nombre: 'Análisis estratégico', color: '#ec4899' },\r\n        { id: '8', nombre: 'Asesoría legal', color: '#f97316' },\r\n        { id: '9', nombre: 'Contact Center', color: '#14b8a6' },\r\n        { id: '10', nombre: 'Cooperación nacional e internacional', color: '#ef4444' },\r\n        { id: '11', nombre: 'Tecnología', color: '#64748b' }\r\n      ],\r\n      calendarOptions: {\r\n        plugins: [\r\n          dayGridPlugin,\r\n          interactionPlugin\r\n        ],\r\n        headerToolbar: {\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: 'customButtons'\r\n        },\r\n        customButtons: {\r\n          customButtons: {\r\n            text: '',\r\n            hint: 'Acciones',\r\n            click: () => {}\r\n          }\r\n        },\r\n        views: {\r\n          dayGridMonth: {\r\n            dayHeaderContent: (arg) => {\r\n              return arg.text.charAt(0).toUpperCase() + arg.text.slice(1);\r\n            }\r\n          }\r\n        },\r\n        initialView: 'dayGridMonth',\r\n        locale: esLocale,\r\n        editable: false,\r\n        selectable: false,\r\n        selectMirror: true,\r\n        dayMaxEvents: 3,\r\n        datesSet: (dateInfo) => {\r\n          this.checkEmptyState();\r\n        },\r\n        weekends: true,\r\n        eventClick: this.handleEventClick,\r\n        eventsSet: this.handleEvents,\r\n        events: this.fetchEvents,\r\n        eventDisplay: 'block',\r\n        eventClassNames: 'custom-event-wrapper',\r\n        dayCellClassNames: (arg) => {\r\n          if (arg.isToday) {\r\n            return ['today-cell'];\r\n          }\r\n          return [];\r\n        },\r\n        height: 600,\r\n        contentHeight: 550\r\n      },\r\n      currentEvents: [],\r\n      monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n    }\r\n  },\r\n  mounted() {\r\n    // Simulate loading\r\n    setTimeout(() => {\r\n      this.isLoading = false;\r\n      // Wait for next tick to ensure calendar is rendered\r\n      this.$nextTick(() => {\r\n        setTimeout(() => {\r\n          this.addCustomButtons();\r\n        }, 100);\r\n      });\r\n    }, 500);\r\n  },\r\n  computed: {\r\n    filteredDirectorio() {\r\n      return this.directorio.filter(usuario => {\r\n        const matchesSearchTerm = usuario.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\r\n            usuario.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\r\n        const matchesDepartamento = this.filterDepartamento ? usuario.departamento === this.filterDepartamento : true;\r\n        return matchesSearchTerm && matchesDepartamento;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.newBirthday = { nombre: '', departamento: '', birthday: '' };\r\n    },\r\n    closeDirectorio() {\r\n      this.showDirectorioModal = false;\r\n      this.searchTerm = '';\r\n      this.filterDepartamento = '';\r\n    },\r\n    addCustomButtons() {\r\n      if (!this.$refs.calendar) {\r\n        console.warn('Calendar ref not available');\r\n        return;\r\n      }\r\n\r\n      const calendarEl = this.$refs.calendar.$el;\r\n      if (!calendarEl) {\r\n        console.warn('Calendar element not available');\r\n        return;\r\n      }\r\n\r\n      const toolbar = calendarEl.querySelector('.fc-toolbar-chunk:last-child');\r\n\r\n      if (toolbar) {\r\n        toolbar.innerHTML = `\r\n          <div class=\"btn-group\" role=\"group\">\r\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" id=\"addBirthdayBtn\">\r\n              <i class=\"fas fa-plus me-2\"></i>Agregar Cumpleaños\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"directoryBtn\">\r\n              <i class=\"fas fa-users me-2\"></i>Directorio\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"downloadBtn\">\r\n              <i class=\"fas fa-download me-2\"></i>Descargar Excel\r\n            </button>\r\n          </div>\r\n        `;\r\n\r\n        document.getElementById('addBirthdayBtn').addEventListener('click', () => {\r\n          this.showModal = true;\r\n        });\r\n\r\n        document.getElementById('directoryBtn').addEventListener('click', () => {\r\n          this.showDirectorio();\r\n        });\r\n\r\n        document.getElementById('downloadBtn').addEventListener('click', () => {\r\n          this.downloadExcel();\r\n        });\r\n      }\r\n    },\r\n    getInitials(name) {\r\n      const names = name.split(' ');\r\n      if (names.length >= 2) {\r\n        return names[0].charAt(0).toUpperCase() + names[1].charAt(0).toUpperCase();\r\n      }\r\n      return name.substring(0, 2).toUpperCase();\r\n    },\r\n    getShortName(name) {\r\n      const names = name.split(' ');\r\n      if (names.length >= 2) {\r\n        return names[0] + ' ' + names[1].charAt(0) + '.';\r\n      }\r\n      return name;\r\n    },\r\n    getDepartmentColor(departmentId) {\r\n      const dept = this.departamentos.find(d => d.id === departmentId);\r\n      return dept ? dept.color : '#94a3b8';\r\n    },\r\n    getDepartmentColorByName(departmentName) {\r\n      const dept = this.departamentos.find(d => d.nombre === departmentName);\r\n      return dept ? dept.color : '#94a3b8';\r\n    },\r\n    showToastNotification(message, type = 'success') {\r\n      this.toastMessage = message;\r\n      this.toastType = type;\r\n      this.toastIcon = type === 'success' ? 'check-circle' : 'exclamation-circle';\r\n      this.showToast = true;\r\n\r\n      setTimeout(() => {\r\n        this.showToast = false;\r\n      }, 3000);\r\n    },\r\n    handleEventClick(clickInfo) {\r\n      const eventEl = clickInfo.el;\r\n      eventEl.style.transform = 'scale(0.95)';\r\n      setTimeout(() => {\r\n        eventEl.style.transform = 'scale(1)';\r\n      }, 100);\r\n\r\n      Swal.fire({\r\n        title: '¿Eliminar cumpleaños?',\r\n        html: `\r\n          <div class=\"text-center\">\r\n            <div class=\"mb-3\">\r\n              <div class=\"user-avatar-large mx-auto mb-2\">\r\n                ${this.getInitials(clickInfo.event.title)}\r\n              </div>\r\n              <h5>${clickInfo.event.title}</h5>\r\n              <p class=\"text-muted\">${clickInfo.event.extendedProps.departamento}</p>\r\n            </div>\r\n          </div>\r\n        `,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#ef4444',\r\n        cancelButtonColor: '#6b7280',\r\n        confirmButtonText: 'Sí, eliminar',\r\n        cancelButtonText: 'Cancelar',\r\n        customClass: {\r\n          popup: 'modern-swal'\r\n        }\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios.put(`http://localhost:8000/api/birthdays/${clickInfo.event.id}`, { deleted: true })\r\n              .then(() => {\r\n                clickInfo.event.remove();\r\n                this.showToastNotification('Cumpleaños eliminado correctamente');\r\n                // Verificar si hay eventos después de eliminar\r\n                setTimeout(() => {\r\n                  this.checkEmptyState();\r\n                }, 100);\r\n              })\r\n              .catch(() => {\r\n                this.showToastNotification('Error al eliminar el cumpleaños', 'error');\r\n              });\r\n        }\r\n      });\r\n    },\r\n    handleEvents(events) {\r\n      this.currentEvents = events;\r\n      this.calendarTitle = this.getCalendarTitle();\r\n      this.checkEmptyState();\r\n    },\r\n    checkEmptyState() {\r\n      // Obtener el mes actual del calendario\r\n      const calendarApi = this.$refs.calendar?.getApi();\r\n      if (calendarApi) {\r\n        const currentDate = calendarApi.getDate();\r\n        const currentMonth = currentDate.getMonth();\r\n        const currentYear = currentDate.getFullYear();\r\n\r\n        // Filtrar eventos del mes actual\r\n        const eventsInCurrentMonth = this.currentEvents.filter(event => {\r\n          const eventDate = new Date(event.start);\r\n          return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;\r\n        });\r\n\r\n        this.showEmptyState = eventsInCurrentMonth.length === 0;\r\n      }\r\n    },\r\n    fetchEvents(fetchInfo, successCallback, failureCallback) {\r\n      axios.get('http://localhost:8000/api/birthdays')\r\n          .then(response => {\r\n            const events = response.data.map(event => ({\r\n              id: event.id,\r\n              title: event.nombre,\r\n              start: event.birthday,\r\n              allDay: true,\r\n              backgroundColor: this.getDepartmentColorByName(event.departamento),\r\n              borderColor: this.getDepartmentColorByName(event.departamento),\r\n              extendedProps: {\r\n                departamento: event.departamento\r\n              }\r\n            }));\r\n            successCallback(events);\r\n            // Verificar empty state después de cargar eventos\r\n            this.$nextTick(() => {\r\n              this.checkEmptyState();\r\n            });\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching events:', error);\r\n            if (typeof failureCallback === 'function') {\r\n              failureCallback(error);\r\n            }\r\n          });\r\n    },\r\n    createEventId() {\r\n      return String(this.eventGuid++)\r\n    },\r\n    addBirthday() {\r\n      const formattedBirthday = moment(this.newBirthday.birthday).format('YYYY-MM-DD');\r\n      const birthdayData = {\r\n        ...this.newBirthday,\r\n        birthday: formattedBirthday\r\n      };\r\n\r\n      axios.post('http://localhost:8000/api/addBirthday', birthdayData)\r\n          .then(() => {\r\n            this.closeModal();\r\n            this.$refs.calendar.getApi().refetchEvents();\r\n            this.showToastNotification('Cumpleaños agregado correctamente');\r\n          })\r\n          .catch(error => {\r\n            this.showToastNotification('Error al agregar el cumpleaños', 'error');\r\n          });\r\n    },\r\n    downloadExcel() {\r\n      const events = this.currentEvents;\r\n      const currentDate = this.$refs.calendar.getApi().getDate();\r\n      const month = moment(currentDate).format('M');\r\n      const monthName = this.monthNames[month - 1];\r\n\r\n      const filteredEvents = events.filter(event => moment(event.start).format('M') === month);\r\n\r\n      if (filteredEvents.length === 0) {\r\n        this.showToastNotification('No hay cumpleaños para exportar este mes', 'error');\r\n        return;\r\n      }\r\n\r\n      const worksheet = XLSX.utils.json_to_sheet(filteredEvents.map(event => ({\r\n        Nombre: event.title,\r\n        Departamento: event.extendedProps.departamento,\r\n        Cumpleaños: moment(event.start).format('DD/MM/YYYY')\r\n      })));\r\n\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Cumpleaños');\r\n      XLSX.writeFile(workbook, `Cumpleaños_${monthName}_2025.xlsx`);\r\n\r\n      this.showToastNotification('Excel descargado correctamente');\r\n    },\r\n    showDirectorio() {\r\n      axios.get('http://localhost:8000/api/directorio_usuarios')\r\n          .then(response => {\r\n            this.directorio = response.data.data;\r\n            this.showDirectorioModal = true;\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching directorio:', error);\r\n            this.showToastNotification('Error al cargar el directorio', 'error');\r\n          });\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* General Styles */\r\n.container-fluid {\r\n  background-color: #f8fafc;\r\n  min-height: 0;\r\n  height: auto;\r\n}\r\n\r\n.main-content {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  min-height: calc(100vh - 200px); /* Ajustar según el tamaño del header y footer */\r\n  padding-bottom: 2rem !important;\r\n}\r\n\r\n.calendar-wrapper {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  padding: 24px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n/* Calendar Customization */\r\n:deep(.fc) {\r\n  font-family: inherit;\r\n  max-height: 650px;\r\n}\r\n\r\n:deep(.fc-scrollgrid) {\r\n  border: none !important;\r\n}\r\n\r\n:deep(.fc-daygrid-body) {\r\n  width: 100% !important;\r\n}\r\n\r\n:deep(.fc-scrollgrid-sync-table) {\r\n  height: auto !important;\r\n}\r\n\r\n:deep(.fc-toolbar) {\r\n  margin-bottom: 24px;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n}\r\n\r\n:deep(.fc-toolbar-title) {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: #1e293b;\r\n}\r\n\r\n:deep(.fc-button) {\r\n  background-color: #f1f5f9;\r\n  border: 1px solid #e2e8f0;\r\n  color: #475569;\r\n  font-weight: 500;\r\n  padding: 6px 16px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n:deep(.fc-button:hover) {\r\n  background-color: #e2e8f0;\r\n  border-color: #cbd5e1;\r\n}\r\n\r\n:deep(.fc-button-active) {\r\n  background-color: #3b82f6 !important;\r\n  border-color: #3b82f6 !important;\r\n  color: white !important;\r\n}\r\n\r\n:deep(.fc-today-button) {\r\n  background-color: #3b82f6;\r\n  border-color: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n:deep(.fc-today-button:hover) {\r\n  background-color: #2563eb;\r\n  border-color: #2563eb;\r\n}\r\n\r\n/* Calendar Grid - Fixed heights */\r\n:deep(.fc-daygrid) {\r\n  overflow: hidden;\r\n}\r\n\r\n:deep(.fc-daygrid-day-frame) {\r\n  min-height: 70px;\r\n  max-height: 90px;\r\n}\r\n\r\n:deep(.fc-daygrid-day-events) {\r\n  margin-top: 2px;\r\n}\r\n\r\n:deep(.fc-daygrid-event-harness) {\r\n  margin-bottom: 1px;\r\n}\r\n:deep(.fc-daygrid-day) {\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n:deep(.fc-daygrid-day:hover) {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n:deep(.fc-daygrid-day-number) {\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  padding: 8px;\r\n}\r\n\r\n:deep(.today-cell) {\r\n  background-color: #eff6ff !important;\r\n}\r\n\r\n:deep(.today-cell .fc-daygrid-day-number) {\r\n  color: #3b82f6;\r\n  font-weight: 700;\r\n}\r\n\r\n:deep(.fc-day-today) {\r\n  background-color: #eff6ff !important;\r\n}\r\n\r\n/* Custom Event Styles */\r\n:deep(.custom-event-wrapper) {\r\n  margin: 2px !important;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n:deep(.custom-event-wrapper:hover) {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.custom-event {\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.event-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.event-initials {\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.625rem;\r\n  font-weight: 600;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.event-name {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Loading Skeleton */\r\n.calendar-skeleton {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.skeleton-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.skeleton-calendar {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 8px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.skeleton-day {\r\n  aspect-ratio: 1;\r\n}\r\n\r\n.skeleton-box {\r\n  background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 8px;\r\n}\r\n\r\n@keyframes loading {\r\n  0% { background-position: 200% 0; }\r\n  100% { background-position: -200% 0; }\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  background: #f8fafc;\r\n  border-radius: 12px;\r\n  border: 2px dashed #e2e8f0;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 4rem;\r\n  color: #e2e8f0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.empty-state h5 {\r\n  color: #475569;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n/* Avatar Styles */\r\n.avatar-circle {\r\n  width: 56px;\r\n  height: 56px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 1.125rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.avatar-circle-small {\r\n  width: 32px;\r\n  height: 32px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.user-avatar-large {\r\n  width: 80px;\r\n  height: 80px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n/* Form Controls */\r\n.color-indicator {\r\n  position: absolute;\r\n  right: 40px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* Search Styles */\r\n.search-icon {\r\n  position: absolute;\r\n  left: 16px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #94a3b8;\r\n}\r\n\r\n.search-results {\r\n  position: absolute;\r\n  right: 16px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 0.875rem;\r\n  color: #64748b;\r\n}\r\n\r\n/* Toast Styles */\r\n.toast-container {\r\n  z-index: 1055;\r\n}\r\n\r\n.toast {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  border-left-width: 4px;\r\n  min-width: 300px;\r\n}\r\n\r\n/* Animations */\r\n.toast-enter-active,\r\n.toast-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.toast-enter-from {\r\n  transform: translateX(100%);\r\n  opacity: 0;\r\n}\r\n\r\n.toast-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n/* Custom Button Group */\r\n.btn-group .btn {\r\n  border-radius: 0;\r\n}\r\n\r\n.btn-group .btn:first-child {\r\n  border-radius: 6px 0 0 6px;\r\n}\r\n\r\n.btn-group .btn:last-child {\r\n  border-radius: 0 6px 6px 0;\r\n}\r\n\r\n.btn-outline-primary {\r\n  color: #3b82f6;\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.btn-outline-primary:hover {\r\n  background-color: #3b82f6;\r\n  border-color: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.btn-outline-secondary.active {\r\n  background-color: #64748b;\r\n  border-color: #64748b;\r\n  color: white;\r\n}\r\n\r\n/* Modal Overrides for Bootstrap Compatibility */\r\n.modal.show {\r\n  display: block !important;\r\n}\r\n\r\n.modal-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 1040;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 1050;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  outline: 0;\r\n}\r\n\r\n/* SweetAlert Customization */\r\n:deep(.modern-swal) {\r\n  border-radius: 16px !important;\r\n  padding: 32px !important;\r\n}\r\n\r\n:deep(.swal2-title) {\r\n  font-size: 1.25rem !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n:deep(.swal2-html-container) {\r\n  font-size: 0.95rem !important;\r\n}\r\n\r\n/* Directory Cards */\r\n.directory-content {\r\n  max-height: 60vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  .calendar-wrapper {\r\n    padding: 16px;\r\n  }\r\n\r\n  :deep(.fc-toolbar) {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  :deep(.fc-toolbar-chunk) {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 4px 0;\r\n  }\r\n\r\n  .modal-dialog {\r\n    margin: 0.5rem;\r\n  }\r\n\r\n  .btn-group {\r\n    flex-direction: column;\r\n    width: 100%;\r\n  }\r\n\r\n  .btn-group .btn {\r\n    border-radius: 6px !important;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n\r\n/* Print Styles */\r\n@media print {\r\n  .btn-group,\r\n  .fc-button-group,\r\n  .modal,\r\n  .modal-backdrop {\r\n    display: none !important;\r\n  }\r\n\r\n  .calendar-wrapper {\r\n    box-shadow: none;\r\n    padding: 0;\r\n  }\r\n}\r\n</style>"],"mappings":"AA+SA,SAASA,eAAe,EAAEC,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACpD,OAAOC,YAAW,MAAO,oBAAmB;AAC5C,OAAOC,aAAY,MAAO,uBAAsB;AAChD,OAAOC,iBAAgB,MAAO,2BAA0B;AACxD,OAAOC,QAAO,MAAO,+BAA8B;AACnD,OAAOC,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAC7B,OAAOC,MAAK,MAAO,QAAO;AAC1B,OAAO,KAAKC,IAAG,MAAO,MAAK;AAE3B,eAAeV,eAAe,CAAC;EAC7BW,UAAU,EAAE;IACVR;EACF,CAAC;EACDS,KAAKA,CAAA,EAAG;IACN,MAAMC,WAAU,GAAIZ,GAAG,CAAC,IAAI,CAAC;IAE7B,MAAMa,gBAAe,GAAIA,CAAA,KAAM;MAC7B,IAAID,WAAW,CAACE,KAAK,EAAE;QACrB,MAAMC,WAAU,GAAIH,WAAW,CAACE,KAAK,CAACE,MAAM,CAAC,CAAC;QAC9C,OAAOD,WAAW,CAACE,IAAI,CAACC,KAAK;MAC/B;MACA,OAAO,EAAE;IACX,CAAC;IAEDjB,SAAS,CAAC,MAAM;MACdY,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC;IAEF,OAAO;MAAED,WAAW;MAAEC;IAAiB,CAAC;EAC1C,CAAC;EACDM,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,CAAC;MACZC,SAAS,EAAE,KAAK;MAChBC,mBAAmB,EAAE,KAAK;MAC1BC,QAAQ,EAAE,OAAO;MACjBC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,EAAE;MAChBC,SAAS,EAAE,SAAS;MACpBC,SAAS,EAAE,cAAc;MACzBC,cAAc,EAAE,KAAK;MACrBC,WAAW,EAAE;QACXC,MAAM,EAAE,EAAE;QACVC,YAAY,EAAE,EAAE;QAChBC,QAAQ,EAAE;MACZ,CAAC;MACDC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,EAAE;MACdC,kBAAkB,EAAE,EAAE;MACtBC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,CACb;QAAEC,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,mBAAmB;QAAES,KAAK,EAAE;MAAU,CAAC,EAC1D;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,YAAY;QAAES,KAAK,EAAE;MAAU,CAAC,EACnD;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,qBAAqB;QAAES,KAAK,EAAE;MAAU,CAAC,EAC5D;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,gBAAgB;QAAES,KAAK,EAAE;MAAU,CAAC,EACvD;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,kBAAkB;QAAES,KAAK,EAAE;MAAU,CAAC,EACzD;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,oBAAoB;QAAES,KAAK,EAAE;MAAU,CAAC,EAC3D;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,sBAAsB;QAAES,KAAK,EAAE;MAAU,CAAC,EAC7D;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,gBAAgB;QAAES,KAAK,EAAE;MAAU,CAAC,EACvD;QAAED,EAAE,EAAE,GAAG;QAAER,MAAM,EAAE,gBAAgB;QAAES,KAAK,EAAE;MAAU,CAAC,EACvD;QAAED,EAAE,EAAE,IAAI;QAAER,MAAM,EAAE,sCAAsC;QAAES,KAAK,EAAE;MAAU,CAAC,EAC9E;QAAED,EAAE,EAAE,IAAI;QAAER,MAAM,EAAE,YAAY;QAAES,KAAK,EAAE;MAAU,EACpD;MACDC,eAAe,EAAE;QACfC,OAAO,EAAE,CACPvC,aAAa,EACbC,iBAAgB,CACjB;QACDuC,aAAa,EAAE;UACbC,IAAI,EAAE,iBAAiB;UACvBC,MAAM,EAAE,OAAO;UACfC,KAAK,EAAE;QACT,CAAC;QACDC,aAAa,EAAE;UACbA,aAAa,EAAE;YACbC,IAAI,EAAE,EAAE;YACRC,IAAI,EAAE,UAAU;YAChBC,KAAK,EAAEA,CAAA,KAAM,CAAC;UAChB;QACF,CAAC;QACDC,KAAK,EAAE;UACLC,YAAY,EAAE;YACZC,gBAAgB,EAAGC,GAAG,IAAK;cACzB,OAAOA,GAAG,CAACN,IAAI,CAACO,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,IAAIF,GAAG,CAACN,IAAI,CAACS,KAAK,CAAC,CAAC,CAAC;YAC7D;UACF;QACF,CAAC;QACDC,WAAW,EAAE,cAAc;QAC3BC,MAAM,EAAEtD,QAAQ;QAChBuD,QAAQ,EAAE,KAAK;QACfC,UAAU,EAAE,KAAK;QACjBC,YAAY,EAAE,IAAI;QAClBC,YAAY,EAAE,CAAC;QACfC,QAAQ,EAAGC,QAAQ,IAAK;UACtB,IAAI,CAACC,eAAe,CAAC,CAAC;QACxB,CAAC;QACDC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE,IAAI,CAACC,gBAAgB;QACjCC,SAAS,EAAE,IAAI,CAACC,YAAY;QAC5BC,MAAM,EAAE,IAAI,CAACC,WAAW;QACxBC,YAAY,EAAE,OAAO;QACrBC,eAAe,EAAE,sBAAsB;QACvCC,iBAAiB,EAAGtB,GAAG,IAAK;UAC1B,IAAIA,GAAG,CAACuB,OAAO,EAAE;YACf,OAAO,CAAC,YAAY,CAAC;UACvB;UACA,OAAO,EAAE;QACX,CAAC;QACDC,MAAM,EAAE,GAAG;QACXC,aAAa,EAAE;MACjB,CAAC;MACDC,aAAa,EAAE,EAAE;MACjBC,UAAU,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW;IAC1I;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACAC,UAAU,CAAC,MAAM;MACf,IAAI,CAAC/D,SAAQ,GAAI,KAAK;MACtB;MACA,IAAI,CAACgE,SAAS,CAAC,MAAM;QACnBD,UAAU,CAAC,MAAM;UACf,IAAI,CAACE,gBAAgB,CAAC,CAAC;QACzB,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,CAAC;IACJ,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EACDC,QAAQ,EAAE;IACRC,kBAAkBA,CAAA,EAAG;MACnB,OAAO,IAAI,CAACrD,UAAU,CAACsD,MAAM,CAACC,OAAM,IAAK;QACvC,MAAMC,iBAAgB,GAAID,OAAO,CAAC1D,MAAM,CAAC4D,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACzD,UAAU,CAACwD,WAAW,CAAC,CAAC,KACzFF,OAAO,CAACI,kBAAkB,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACzD,UAAU,CAACwD,WAAW,CAAC,CAAC,CAAC;QACpF,MAAMG,mBAAkB,GAAI,IAAI,CAAC1D,kBAAiB,GAAIqD,OAAO,CAACzD,YAAW,KAAM,IAAI,CAACI,kBAAiB,GAAI,IAAI;QAC7G,OAAOsD,iBAAgB,IAAKI,mBAAmB;MACjD,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC1E,SAAQ,GAAI,KAAK;MACtB,IAAI,CAACQ,WAAU,GAAI;QAAEC,MAAM,EAAE,EAAE;QAAEC,YAAY,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC;IACnE,CAAC;IACDgE,eAAeA,CAAA,EAAG;MAChB,IAAI,CAAC1E,mBAAkB,GAAI,KAAK;MAChC,IAAI,CAACY,UAAS,GAAI,EAAE;MACpB,IAAI,CAACC,kBAAiB,GAAI,EAAE;IAC9B,CAAC;IACDiD,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAAC,IAAI,CAACa,KAAK,CAACC,QAAQ,EAAE;QACxBC,OAAO,CAACC,IAAI,CAAC,4BAA4B,CAAC;QAC1C;MACF;MAEA,MAAMC,UAAS,GAAI,IAAI,CAACJ,KAAK,CAACC,QAAQ,CAACI,GAAG;MAC1C,IAAI,CAACD,UAAU,EAAE;QACfF,OAAO,CAACC,IAAI,CAAC,gCAAgC,CAAC;QAC9C;MACF;MAEA,MAAMG,OAAM,GAAIF,UAAU,CAACG,aAAa,CAAC,8BAA8B,CAAC;MAExE,IAAID,OAAO,EAAE;QACXA,OAAO,CAACE,SAAQ,GAAI;;;;;;;;;;;;SAYnB;QAEDC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;UACxE,IAAI,CAACvF,SAAQ,GAAI,IAAI;QACvB,CAAC,CAAC;QAEFqF,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;UACtE,IAAI,CAACC,cAAc,CAAC,CAAC;QACvB,CAAC,CAAC;QAEFH,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;UACrE,IAAI,CAACE,aAAa,CAAC,CAAC;QACtB,CAAC,CAAC;MACJ;IACF,CAAC;IACDC,WAAWA,CAACC,IAAI,EAAE;MAChB,MAAMC,KAAI,GAAID,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;MAC7B,IAAID,KAAK,CAACE,MAAK,IAAK,CAAC,EAAE;QACrB,OAAOF,KAAK,CAAC,CAAC,CAAC,CAAC3D,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,IAAI0D,KAAK,CAAC,CAAC,CAAC,CAAC3D,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAC5E;MACA,OAAOyD,IAAI,CAACI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC7D,WAAW,CAAC,CAAC;IAC3C,CAAC;IACD8D,YAAYA,CAACL,IAAI,EAAE;MACjB,MAAMC,KAAI,GAAID,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;MAC7B,IAAID,KAAK,CAACE,MAAK,IAAK,CAAC,EAAE;QACrB,OAAOF,KAAK,CAAC,CAAC,IAAI,GAAE,GAAIA,KAAK,CAAC,CAAC,CAAC,CAAC3D,MAAM,CAAC,CAAC,IAAI,GAAG;MAClD;MACA,OAAO0D,IAAI;IACb,CAAC;IACDM,kBAAkBA,CAACC,YAAY,EAAE;MAC/B,MAAMC,IAAG,GAAI,IAAI,CAACnF,aAAa,CAACoF,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACpF,EAAC,KAAMiF,YAAY,CAAC;MAChE,OAAOC,IAAG,GAAIA,IAAI,CAACjF,KAAI,GAAI,SAAS;IACtC,CAAC;IACDoF,wBAAwBA,CAACC,cAAc,EAAE;MACvC,MAAMJ,IAAG,GAAI,IAAI,CAACnF,aAAa,CAACoF,IAAI,CAACC,CAAA,IAAKA,CAAC,CAAC5F,MAAK,KAAM8F,cAAc,CAAC;MACtE,OAAOJ,IAAG,GAAIA,IAAI,CAACjF,KAAI,GAAI,SAAS;IACtC,CAAC;IACDsF,qBAAqBA,CAACC,OAAO,EAAEC,IAAG,GAAI,SAAS,EAAE;MAC/C,IAAI,CAACtG,YAAW,GAAIqG,OAAO;MAC3B,IAAI,CAACpG,SAAQ,GAAIqG,IAAI;MACrB,IAAI,CAACpG,SAAQ,GAAIoG,IAAG,KAAM,SAAQ,GAAI,cAAa,GAAI,oBAAoB;MAC3E,IAAI,CAACvG,SAAQ,GAAI,IAAI;MAErB0D,UAAU,CAAC,MAAM;QACf,IAAI,CAAC1D,SAAQ,GAAI,KAAK;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IACD4C,gBAAgBA,CAAC4D,SAAS,EAAE;MAC1B,MAAMC,OAAM,GAAID,SAAS,CAACE,EAAE;MAC5BD,OAAO,CAACE,KAAK,CAACC,SAAQ,GAAI,aAAa;MACvClD,UAAU,CAAC,MAAM;QACf+C,OAAO,CAACE,KAAK,CAACC,SAAQ,GAAI,UAAU;MACtC,CAAC,EAAE,GAAG,CAAC;MAEP9H,IAAI,CAAC+H,IAAI,CAAC;QACRpH,KAAK,EAAE,uBAAuB;QAC9BqH,IAAI,EAAE;;;;kBAII,IAAI,CAACvB,WAAW,CAACiB,SAAS,CAACO,KAAK,CAACtH,KAAK,CAAC;;oBAErC+G,SAAS,CAACO,KAAK,CAACtH,KAAM;sCACJ+G,SAAS,CAACO,KAAK,CAACC,aAAa,CAACzG,YAAa;;;SAGxE;QACD0G,IAAI,EAAE,SAAS;QACfC,gBAAgB,EAAE,IAAI;QACtBC,kBAAkB,EAAE,SAAS;QAC7BC,iBAAiB,EAAE,SAAS;QAC5BC,iBAAiB,EAAE,cAAc;QACjCC,gBAAgB,EAAE,UAAU;QAC5BC,WAAW,EAAE;UACXC,KAAK,EAAE;QACT;MACF,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;QAClB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACtB9I,KAAK,CAAC+I,GAAG,CAAE,uCAAsCpB,SAAS,CAACO,KAAK,CAACjG,EAAG,EAAC,EAAE;YAAE+G,OAAO,EAAE;UAAK,CAAC,EACnFJ,IAAI,CAAC,MAAM;YACVjB,SAAS,CAACO,KAAK,CAACe,MAAM,CAAC,CAAC;YACxB,IAAI,CAACzB,qBAAqB,CAAC,oCAAoC,CAAC;YAChE;YACA3C,UAAU,CAAC,MAAM;cACf,IAAI,CAACjB,eAAe,CAAC,CAAC;YACxB,CAAC,EAAE,GAAG,CAAC;UACT,CAAC,EACAsF,KAAK,CAAC,MAAM;YACX,IAAI,CAAC1B,qBAAqB,CAAC,iCAAiC,EAAE,OAAO,CAAC;UACxE,CAAC,CAAC;QACR;MACF,CAAC,CAAC;IACJ,CAAC;IACDvD,YAAYA,CAACC,MAAM,EAAE;MACnB,IAAI,CAACQ,aAAY,GAAIR,MAAM;MAC3B,IAAI,CAACnC,aAAY,GAAI,IAAI,CAACxB,gBAAgB,CAAC,CAAC;MAC5C,IAAI,CAACqD,eAAe,CAAC,CAAC;IACxB,CAAC;IACDA,eAAeA,CAAA,EAAG;MAChB;MACA,MAAMnD,WAAU,GAAI,IAAI,CAACmF,KAAK,CAACC,QAAQ,EAAEnF,MAAM,CAAC,CAAC;MACjD,IAAID,WAAW,EAAE;QACf,MAAM0I,WAAU,GAAI1I,WAAW,CAAC2I,OAAO,CAAC,CAAC;QACzC,MAAMC,YAAW,GAAIF,WAAW,CAACG,QAAQ,CAAC,CAAC;QAC3C,MAAMC,WAAU,GAAIJ,WAAW,CAACK,WAAW,CAAC,CAAC;;QAE7C;QACA,MAAMC,oBAAmB,GAAI,IAAI,CAAC/E,aAAa,CAACQ,MAAM,CAACgD,KAAI,IAAK;UAC9D,MAAMwB,SAAQ,GAAI,IAAIC,IAAI,CAACzB,KAAK,CAAC0B,KAAK,CAAC;UACvC,OAAOF,SAAS,CAACJ,QAAQ,CAAC,MAAMD,YAAW,IAAKK,SAAS,CAACF,WAAW,CAAC,MAAMD,WAAW;QACzF,CAAC,CAAC;QAEF,IAAI,CAAChI,cAAa,GAAIkI,oBAAoB,CAAC3C,MAAK,KAAM,CAAC;MACzD;IACF,CAAC;IACD3C,WAAWA,CAAC0F,SAAS,EAAEC,eAAe,EAAEC,eAAe,EAAE;MACvD/J,KAAK,CAACgK,GAAG,CAAC,qCAAqC,EAC1CpB,IAAI,CAACqB,QAAO,IAAK;QAChB,MAAM/F,MAAK,GAAI+F,QAAQ,CAACpJ,IAAI,CAACqJ,GAAG,CAAChC,KAAI,KAAM;UACzCjG,EAAE,EAAEiG,KAAK,CAACjG,EAAE;UACZrB,KAAK,EAAEsH,KAAK,CAACzG,MAAM;UACnBmI,KAAK,EAAE1B,KAAK,CAACvG,QAAQ;UACrBwI,MAAM,EAAE,IAAI;UACZC,eAAe,EAAE,IAAI,CAAC9C,wBAAwB,CAACY,KAAK,CAACxG,YAAY,CAAC;UAClE2I,WAAW,EAAE,IAAI,CAAC/C,wBAAwB,CAACY,KAAK,CAACxG,YAAY,CAAC;UAC9DyG,aAAa,EAAE;YACbzG,YAAY,EAAEwG,KAAK,CAACxG;UACtB;QACF,CAAC,CAAC,CAAC;QACHoI,eAAe,CAAC5F,MAAM,CAAC;QACvB;QACA,IAAI,CAACY,SAAS,CAAC,MAAM;UACnB,IAAI,CAAClB,eAAe,CAAC,CAAC;QACxB,CAAC,CAAC;MACJ,CAAC,EACAsF,KAAK,CAACoB,KAAI,IAAK;QACdxE,OAAO,CAACwE,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9C,IAAI,OAAOP,eAAc,KAAM,UAAU,EAAE;UACzCA,eAAe,CAACO,KAAK,CAAC;QACxB;MACF,CAAC,CAAC;IACR,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,OAAOC,MAAM,CAAC,IAAI,CAACzJ,SAAS,EAAE;IAChC,CAAC;IACD0J,WAAWA,CAAA,EAAG;MACZ,MAAMC,iBAAgB,GAAIxK,MAAM,CAAC,IAAI,CAACsB,WAAW,CAACG,QAAQ,CAAC,CAACgJ,MAAM,CAAC,YAAY,CAAC;MAChF,MAAMC,YAAW,GAAI;QACnB,GAAG,IAAI,CAACpJ,WAAW;QACnBG,QAAQ,EAAE+I;MACZ,CAAC;MAED1K,KAAK,CAAC6K,IAAI,CAAC,uCAAuC,EAAED,YAAY,EAC3DhC,IAAI,CAAC,MAAM;QACV,IAAI,CAAClD,UAAU,CAAC,CAAC;QACjB,IAAI,CAACE,KAAK,CAACC,QAAQ,CAACnF,MAAM,CAAC,CAAC,CAACoK,aAAa,CAAC,CAAC;QAC5C,IAAI,CAACtD,qBAAqB,CAAC,mCAAmC,CAAC;MACjE,CAAC,EACA0B,KAAK,CAACoB,KAAI,IAAK;QACd,IAAI,CAAC9C,qBAAqB,CAAC,gCAAgC,EAAE,OAAO,CAAC;MACvE,CAAC,CAAC;IACR,CAAC;IACDf,aAAaA,CAAA,EAAG;MACd,MAAMvC,MAAK,GAAI,IAAI,CAACQ,aAAa;MACjC,MAAMyE,WAAU,GAAI,IAAI,CAACvD,KAAK,CAACC,QAAQ,CAACnF,MAAM,CAAC,CAAC,CAAC0I,OAAO,CAAC,CAAC;MAC1D,MAAM2B,KAAI,GAAI7K,MAAM,CAACiJ,WAAW,CAAC,CAACwB,MAAM,CAAC,GAAG,CAAC;MAC7C,MAAMK,SAAQ,GAAI,IAAI,CAACrG,UAAU,CAACoG,KAAI,GAAI,CAAC,CAAC;MAE5C,MAAME,cAAa,GAAI/G,MAAM,CAACgB,MAAM,CAACgD,KAAI,IAAKhI,MAAM,CAACgI,KAAK,CAAC0B,KAAK,CAAC,CAACe,MAAM,CAAC,GAAG,MAAMI,KAAK,CAAC;MAExF,IAAIE,cAAc,CAACnE,MAAK,KAAM,CAAC,EAAE;QAC/B,IAAI,CAACU,qBAAqB,CAAC,0CAA0C,EAAE,OAAO,CAAC;QAC/E;MACF;MAEA,MAAM0D,SAAQ,GAAI/K,IAAI,CAACgL,KAAK,CAACC,aAAa,CAACH,cAAc,CAACf,GAAG,CAAChC,KAAI,KAAM;QACtEmD,MAAM,EAAEnD,KAAK,CAACtH,KAAK;QACnB0K,YAAY,EAAEpD,KAAK,CAACC,aAAa,CAACzG,YAAY;QAC9C6J,UAAU,EAAErL,MAAM,CAACgI,KAAK,CAAC0B,KAAK,CAAC,CAACe,MAAM,CAAC,YAAY;MACrD,CAAC,CAAC,CAAC,CAAC;MAEJ,MAAMa,QAAO,GAAIrL,IAAI,CAACgL,KAAK,CAACM,QAAQ,CAAC,CAAC;MACtCtL,IAAI,CAACgL,KAAK,CAACO,iBAAiB,CAACF,QAAQ,EAAEN,SAAS,EAAE,YAAY,CAAC;MAC/D/K,IAAI,CAACwL,SAAS,CAACH,QAAQ,EAAG,cAAaR,SAAU,YAAW,CAAC;MAE7D,IAAI,CAACxD,qBAAqB,CAAC,gCAAgC,CAAC;IAC9D,CAAC;IACDhB,cAAcA,CAAA,EAAG;MACfxG,KAAK,CAACgK,GAAG,CAAC,+CAA+C,EACpDpB,IAAI,CAACqB,QAAO,IAAK;QAChB,IAAI,CAACrI,UAAS,GAAIqI,QAAQ,CAACpJ,IAAI,CAACA,IAAI;QACpC,IAAI,CAACI,mBAAkB,GAAI,IAAI;MACjC,CAAC,EACAiI,KAAK,CAACoB,KAAI,IAAK;QACdxE,OAAO,CAACwE,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClD,IAAI,CAAC9C,qBAAqB,CAAC,+BAA+B,EAAE,OAAO,CAAC;MACtE,CAAC,CAAC;IACR;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}