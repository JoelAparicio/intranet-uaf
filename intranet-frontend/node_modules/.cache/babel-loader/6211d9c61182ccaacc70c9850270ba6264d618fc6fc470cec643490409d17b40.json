{"ast":null,"code":"import axios from 'axios';\nimport { Modal } from 'bootstrap';\nimport Swal from 'sweetalert2';\nexport default {\n  name: 'DatosUsuario',\n  data() {\n    return {\n      user: {\n        nombre: '',\n        correo_electronico: '',\n        cargo: '',\n        posicion: '',\n        cedula: '',\n        extension: '',\n        estado: '',\n        departamento: '',\n        tiempo_extra: '',\n        firma_path: null\n      },\n      editUser: {\n        nombre: '',\n        cargo: '',\n        posicion: '',\n        extension: ''\n      },\n      firmaFile: null,\n      editFirmaFile: null,\n      firmaPreview: null,\n      editModalInstance: null,\n      firmaModalInstance: null,\n      isLoading: false,\n      isUploading: false\n    };\n  },\n  created() {\n    this.fetchUserData();\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const token = localStorage.getItem('auth_token');\n        const response = await axios.get('http://localhost:8080/api/information_user', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.user = response.data.data;\n        this.editUser = {\n          nombre: this.user.nombre,\n          cargo: this.user.cargo,\n          posicion: this.user.posicion,\n          extension: this.user.extension\n        };\n        this.$nextTick(() => {\n          this.editModalInstance = new Modal(document.getElementById('editModal'));\n          this.firmaModalInstance = new Modal(document.getElementById('firmaModal'));\n        });\n      } catch (error) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Error al cargar sus datos'\n        });\n        console.error('Error al cargar sus datos', error);\n      }\n    },\n    async updateUserData() {\n      this.isLoading = true;\n      try {\n        const token = localStorage.getItem('auth_token');\n\n        // Actualizar datos básicos del usuario\n        await axios.put('http://localhost:8000/api/edit_information', this.editUser, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        // Si hay una nueva firma, subirla\n        if (this.editFirmaFile) {\n          const formData = new FormData();\n          formData.append('firma', this.editFirmaFile);\n          await axios.post('http://localhost:8000/api/upload-firma', formData, {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n        }\n\n        // Actualizar datos locales\n        Object.assign(this.user, this.editUser);\n        this.editModalInstance.hide();\n        this.resetEditForm();\n        Swal.fire({\n          icon: 'success',\n          title: 'Actualizado',\n          text: 'Datos actualizados correctamente',\n          timer: 2000,\n          showConfirmButton: false\n        }).then(() => {\n          // Recargar datos del usuario desde el servidor\n          this.fetchUserData();\n        });\n      } catch (error) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Ha ocurrido un error al actualizar los datos'\n        });\n        console.error('Ha ocurrido un error al actualizar los datos', error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    handleFirmaFile(e) {\n      const file = e.target.files[0];\n      if (file) {\n        this.firmaFile = file;\n        // Crear preview de la imagen\n        const reader = new FileReader();\n        reader.onload = event => {\n          this.firmaPreview = event.target.result;\n        };\n        reader.readAsDataURL(file);\n      } else {\n        this.firmaFile = null;\n        this.firmaPreview = null;\n      }\n    },\n    handleEditFirmaFile(e) {\n      this.editFirmaFile = e.target.files[0];\n    },\n    async uploadFirma() {\n      if (!this.firmaFile) {\n        Swal.fire({\n          icon: 'warning',\n          title: 'Atención',\n          text: 'Por favor selecciona un archivo de imagen'\n        });\n        return;\n      }\n      this.isUploading = true;\n      const formData = new FormData();\n      formData.append('firma', this.firmaFile);\n      try {\n        const token = localStorage.getItem('auth_token');\n        const response = await axios.post('http://localhost:8000/api/upload-firma', formData, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log('Respuesta del servidor:', response.data); // Para debug\n\n        // Actualizar el usuario con la nueva firma\n        if (response.data.success && response.data.data) {\n          // Actualizar con los datos completos del usuario desde el servidor\n          if (response.data.data.user) {\n            this.user = {\n              ...this.user,\n              ...response.data.data.user\n            };\n          } else if (response.data.data.firma_path) {\n            this.user.firma_path = response.data.data.firma_path;\n          }\n        }\n        this.firmaModalInstance.hide();\n        this.resetFirmaForm();\n        Swal.fire({\n          icon: 'success',\n          title: this.user.firma_path ? 'Firma actualizada' : 'Firma registrada',\n          text: 'Tu firma se ha guardado correctamente',\n          timer: 2000,\n          showConfirmButton: false\n        }).then(() => {\n          // Recargar datos para asegurar sincronización\n          this.fetchUserData();\n        });\n      } catch (error) {\n        let errorMessage = 'Error al subir la firma';\n        if (error.response?.data?.message) {\n          errorMessage = error.response.data.message;\n        } else if (error.response?.data?.errors) {\n          // Manejar errores de validación\n          const errors = Object.values(error.response.data.errors).flat();\n          errorMessage = errors.join(', ');\n        }\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: errorMessage\n        });\n        console.error('Error al subir firma:', error.response?.data || error);\n      } finally {\n        this.isUploading = false;\n      }\n    },\n    resetFirmaForm() {\n      this.firmaFile = null;\n      this.firmaPreview = null;\n      const input = document.getElementById('firmaInput');\n      if (input) input.value = '';\n    },\n    resetEditForm() {\n      this.editFirmaFile = null;\n      const editFirmaInput = document.getElementById('editFirma');\n      if (editFirmaInput) editFirmaInput.value = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","Swal","name","data","user","nombre","correo_electronico","cargo","posicion","cedula","extension","estado","departamento","tiempo_extra","firma_path","editUser","firmaFile","editFirmaFile","firmaPreview","editModalInstance","firmaModalInstance","isLoading","isUploading","created","fetchUserData","methods","token","localStorage","getItem","response","get","headers","$nextTick","document","getElementById","error","fire","icon","title","text","console","updateUserData","put","formData","FormData","append","post","Object","assign","hide","resetEditForm","timer","showConfirmButton","then","handleFirmaFile","e","file","target","files","reader","FileReader","onload","event","result","readAsDataURL","handleEditFirmaFile","uploadFirma","log","success","resetFirmaForm","errorMessage","message","errors","values","flat","join","input","value","editFirmaInput"],"sources":["C:\\xampp\\htdocs\\intranet\\intranet-frontend\\src\\components\\Datos_Usuario.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between\">\r\n          <h5 class=\"mb-3\">Datos personales</h5>\r\n          <div>\r\n            <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#editModal\"\r\n            >Editar</button>\r\n            <button\r\n                v-if=\"!user.firma_path\"\r\n                type=\"button\"\r\n                class=\"btn btn-outline-success ms-2\"\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#firmaModal\"\r\n            >Registrar firma</button>\r\n            <button\r\n                v-else\r\n                type=\"button\"\r\n                class=\"btn btn-outline-warning ms-2\"\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#firmaModal\"\r\n            >Actualizar firma</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <p class=\"card-text\">Aquí podrás ver tus datos personales como colaborador de la UAF</p>\r\n\r\n          <!-- Mostrar firma actual si existe -->\r\n          <div v-if=\"user.firma_path\" class=\"alert alert-info d-flex align-items-center mb-3\">\r\n            <i class=\"fas fa-signature me-2\"></i>\r\n            <span>Firma registrada correctamente</span>\r\n          </div>\r\n\r\n          <form class=\"pb-5 pt-4\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"nombre\" class=\"form-label\">Nombre</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"nombre\" v-model=\"user.nombre\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"correo_electronico\" class=\"form-label\">Correo Electrónico</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"correo_electronico\" v-model=\"user.correo_electronico\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"cargo\" class=\"form-label\">Cargo</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cargo\" v-model=\"user.cargo\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"posicion\" class=\"form-label\">Posición</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"posicion\" v-model=\"user.posicion\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"cedula\" class=\"form-label\">Cédula</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cedula\" v-model=\"user.cedula\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"extension\" class=\"form-label\">Extensión</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"extension\" v-model=\"user.extension\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"estado\" class=\"form-label\">Estado</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"estado\" v-model=\"user.estado\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"departamento\" class=\"form-label\">Departamento</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"departamento\" v-model=\"user.departamento\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"horas_extra\" class=\"form-label\">Horas extra</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"horas_extra\" v-model=\"user.tiempo_extra\" disabled>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal editar usuario -->\r\n    <div class=\"modal fade\" id=\"editModal\" tabindex=\"-1\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editModalLabel\">Editar Datos Personales</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"updateUserData\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"editNombre\" class=\"form-label\">Nombre</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editNombre\" v-model=\"editUser.nombre\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editCargo\" class=\"form-label\">Cargo</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editCargo\" v-model=\"editUser.cargo\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editPosicion\" class=\"form-label\">Posición</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editPosicion\" v-model=\"editUser.posicion\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editExtension\" class=\"form-label\">Extensión</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editExtension\" v-model=\"editUser.extension\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editFirma\" class=\"form-label\">Actualizar firma (opcional)</label>\r\n                <input type=\"file\" class=\"form-control\" accept=\"image/png,image/jpeg,image/jpg\" @change=\"handleEditFirmaFile\" />\r\n                <small class=\"form-text text-muted\">Selecciona un archivo solo si deseas cambiar tu firma actual</small>\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isLoading\">\r\n                <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                {{ isLoading ? 'Guardando...' : 'Guardar cambios' }}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal subir firma -->\r\n    <div class=\"modal fade\" id=\"firmaModal\" tabindex=\"-1\" aria-labelledby=\"firmaModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <form @submit.prevent=\"uploadFirma\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\">{{ user.firma_path ? 'Actualizar Firma' : 'Subir Firma' }}</h5>\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"firmaInput\" class=\"form-label\">Seleccionar archivo de imagen</label>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"firmaInput\"\r\n                    class=\"form-control\"\r\n                    accept=\"image/png,image/jpeg,image/jpg\"\r\n                    @change=\"handleFirmaFile\"\r\n                    required\r\n                />\r\n                <small class=\"form-text text-muted\">Formatos soportados: PNG, JPG, JPEG</small>\r\n              </div>\r\n\r\n              <!-- Preview de la imagen seleccionada -->\r\n              <div v-if=\"firmaPreview\" class=\"mb-3\">\r\n                <label class=\"form-label\">Vista previa:</label>\r\n                <div class=\"border rounded p-2\">\r\n                  <img :src=\"firmaPreview\" alt=\"Preview de firma\" class=\"img-fluid\" style=\"max-height: 150px;\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancelar</button>\r\n              <button type=\"submit\" class=\"btn btn-success\" :disabled=\"!firmaFile || isUploading\">\r\n                <span v-if=\"isUploading\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                {{ isUploading ? 'Subiendo...' : (user.firma_path ? 'Actualizar Firma' : 'Subir Firma') }}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { Modal } from 'bootstrap'\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  name: 'DatosUsuario',\r\n  data() {\r\n    return {\r\n      user: {\r\n        nombre: '',\r\n        correo_electronico: '',\r\n        cargo: '',\r\n        posicion: '',\r\n        cedula: '',\r\n        extension: '',\r\n        estado: '',\r\n        departamento: '',\r\n        tiempo_extra: '',\r\n        firma_path: null\r\n      },\r\n      editUser: {\r\n        nombre: '',\r\n        cargo: '',\r\n        posicion: '',\r\n        extension: ''\r\n      },\r\n      firmaFile: null,\r\n      editFirmaFile: null,\r\n      firmaPreview: null,\r\n      editModalInstance: null,\r\n      firmaModalInstance: null,\r\n      isLoading: false,\r\n      isUploading: false\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUserData()\r\n  },\r\n  methods: {\r\n    async fetchUserData() {\r\n      try {\r\n        const token = localStorage.getItem('auth_token')\r\n        const response = await axios.get('http://localhost:8080/api/information_user', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        })\r\n\r\n        this.user = response.data.data\r\n        this.editUser = {\r\n          nombre: this.user.nombre,\r\n          cargo: this.user.cargo,\r\n          posicion: this.user.posicion,\r\n          extension: this.user.extension\r\n        }\r\n\r\n        this.$nextTick(() => {\r\n          this.editModalInstance = new Modal(document.getElementById('editModal'))\r\n          this.firmaModalInstance = new Modal(document.getElementById('firmaModal'))\r\n        })\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'Error al cargar sus datos'\r\n        })\r\n        console.error('Error al cargar sus datos', error)\r\n      }\r\n    },\r\n\r\n    async updateUserData() {\r\n      this.isLoading = true\r\n      try {\r\n        const token = localStorage.getItem('auth_token')\r\n\r\n        // Actualizar datos básicos del usuario\r\n        await axios.put('http://localhost:8000/api/edit_information', this.editUser, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        })\r\n\r\n        // Si hay una nueva firma, subirla\r\n        if (this.editFirmaFile) {\r\n          const formData = new FormData();\r\n          formData.append('firma', this.editFirmaFile);\r\n\r\n          await axios.post('http://localhost:8000/api/upload-firma', formData, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          });\r\n        }\r\n\r\n        // Actualizar datos locales\r\n        Object.assign(this.user, this.editUser)\r\n\r\n        this.editModalInstance.hide()\r\n        this.resetEditForm()\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Actualizado',\r\n          text: 'Datos actualizados correctamente',\r\n          timer: 2000,\r\n          showConfirmButton: false\r\n        }).then(() => {\r\n          // Recargar datos del usuario desde el servidor\r\n          this.fetchUserData()\r\n        })\r\n\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'Ha ocurrido un error al actualizar los datos'\r\n        })\r\n        console.error('Ha ocurrido un error al actualizar los datos', error)\r\n      } finally {\r\n        this.isLoading = false\r\n      }\r\n    },\r\n\r\n    handleFirmaFile(e) {\r\n      const file = e.target.files[0]\r\n      if (file) {\r\n        this.firmaFile = file\r\n        // Crear preview de la imagen\r\n        const reader = new FileReader()\r\n        reader.onload = (event) => {\r\n          this.firmaPreview = event.target.result\r\n        }\r\n        reader.readAsDataURL(file)\r\n      } else {\r\n        this.firmaFile = null\r\n        this.firmaPreview = null\r\n      }\r\n    },\r\n\r\n    handleEditFirmaFile(e) {\r\n      this.editFirmaFile = e.target.files[0]\r\n    },\r\n\r\n    async uploadFirma() {\r\n      if (!this.firmaFile) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: 'Atención',\r\n          text: 'Por favor selecciona un archivo de imagen'\r\n        })\r\n        return\r\n      }\r\n\r\n      this.isUploading = true\r\n      const formData = new FormData()\r\n      formData.append('firma', this.firmaFile)\r\n\r\n      try {\r\n        const token = localStorage.getItem('auth_token')\r\n        const response = await axios.post('http://localhost:8000/api/upload-firma', formData, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        })\r\n\r\n        console.log('Respuesta del servidor:', response.data) // Para debug\r\n\r\n        // Actualizar el usuario con la nueva firma\r\n        if (response.data.success && response.data.data) {\r\n          // Actualizar con los datos completos del usuario desde el servidor\r\n          if (response.data.data.user) {\r\n            this.user = { ...this.user, ...response.data.data.user }\r\n          } else if (response.data.data.firma_path) {\r\n            this.user.firma_path = response.data.data.firma_path\r\n          }\r\n        }\r\n\r\n        this.firmaModalInstance.hide()\r\n        this.resetFirmaForm()\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: this.user.firma_path ? 'Firma actualizada' : 'Firma registrada',\r\n          text: 'Tu firma se ha guardado correctamente',\r\n          timer: 2000,\r\n          showConfirmButton: false\r\n        }).then(() => {\r\n          // Recargar datos para asegurar sincronización\r\n          this.fetchUserData()\r\n        })\r\n\r\n      } catch (error) {\r\n        let errorMessage = 'Error al subir la firma'\r\n\r\n        if (error.response?.data?.message) {\r\n          errorMessage = error.response.data.message\r\n        } else if (error.response?.data?.errors) {\r\n          // Manejar errores de validación\r\n          const errors = Object.values(error.response.data.errors).flat()\r\n          errorMessage = errors.join(', ')\r\n        }\r\n\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: errorMessage\r\n        })\r\n        console.error('Error al subir firma:', error.response?.data || error)\r\n      } finally {\r\n        this.isUploading = false\r\n      }\r\n    },\r\n\r\n    resetFirmaForm() {\r\n      this.firmaFile = null\r\n      this.firmaPreview = null\r\n      const input = document.getElementById('firmaInput')\r\n      if (input) input.value = ''\r\n    },\r\n\r\n    resetEditForm() {\r\n      this.editFirmaFile = null\r\n      const editFirmaInput = document.getElementById('editFirma')\r\n      if (editFirmaInput) editFirmaInput.value = ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.spinner-border-sm {\r\n  width: 1rem;\r\n  height: 1rem;\r\n}\r\n\r\n.alert {\r\n  border-radius: 0.375rem;\r\n}\r\n\r\n.img-fluid {\r\n  border-radius: 0.25rem;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}