{"ast":null,"code":"import axios from 'axios';\nimport { Modal } from 'bootstrap';\nexport default {\n  data() {\n    return {\n      user: {\n        nombre: '',\n        correo_electronico: '',\n        cargo: '',\n        posicion: '',\n        cedula: '',\n        extension: '',\n        estado: '',\n        departamento: ''\n      },\n      editUser: {\n        nombre: '',\n        cargo: '',\n        posicion: '',\n        extension: '',\n        departamento: ''\n      },\n      editModalInstance: null\n    };\n  },\n  created() {\n    this.fetchUserData();\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const token = localStorage.getItem('auth_token');\n        const response = await axios.get('http://localhost:8000/api/user', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.user = response.data.data;\n        this.editUser = {\n          ...this.user\n        };\n        this.$nextTick(() => {\n          this.editModalInstance = new Modal(document.getElementById('editModal'));\n        });\n      } catch (error) {\n        console.error('Error fetching user data', error);\n      }\n    },\n    async updateUserData() {\n      try {\n        const token = localStorage.getItem('auth_token');\n        await axios.put('http://localhost:8000/api/edit_user', this.editUser, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.user = {\n          ...this.editUser\n        };\n        this.editModalInstance.hide();\n      } catch (error) {\n        console.error('Error updating user data', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","data","user","nombre","correo_electronico","cargo","posicion","cedula","extension","estado","departamento","editUser","editModalInstance","created","fetchUserData","methods","token","localStorage","getItem","response","get","headers","$nextTick","document","getElementById","error","console","updateUserData","put","hide"],"sources":["C:\\laragon\\www\\intranet-frontend\\src\\components\\Datos_Usuario.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between\">\r\n          <h5 class=\"mb-3\">Datos personales</h5>\r\n          <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#editModal\">Editar</button>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <p class=\"card-text\">Aquí podrás ver tus datos personales como colaborador de la UAF</p>\r\n          <form class=\"pb-5 pt-4\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"nombre\" class=\"form-label\">Nombre</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"nombre\" v-model=\"user.nombre\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"correo_electronico\" class=\"form-label\">Correo Electrónico</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"correo_electronico\" v-model=\"user.correo_electronico\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"cargo\" class=\"form-label\">Cargo</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cargo\" v-model=\"user.cargo\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"posicion\" class=\"form-label\">Posición</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"posicion\" v-model=\"user.posicion\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"cedula\" class=\"form-label\">Cédula</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cedula\" v-model=\"user.cedula\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"extension\" class=\"form-label\">Extensión</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"extension\" v-model=\"user.extension\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"estado\" class=\"form-label\">Estado</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"estado\" v-model=\"user.estado\" disabled>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"departamento\" class=\"form-label\">Departamento</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"departamento\" v-model=\"user.departamento\" disabled>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"editModal\" tabindex=\"-1\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editModalLabel\">Editar Datos Personales</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"updateUserData\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"editNombre\" class=\"form-label\">Nombre</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editNombre\" v-model=\"editUser.nombre\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editCargo\" class=\"form-label\">Cargo</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editCargo\" v-model=\"editUser.cargo\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editPosicion\" class=\"form-label\">Posición</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editPosicion\" v-model=\"editUser.posicion\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editExtension\" class=\"form-label\">Extensión</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editExtension\" v-model=\"editUser.extension\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"editDepartamento\" class=\"form-label\">Departamento</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"editDepartamento\" v-model=\"editUser.departamento\">\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-primary\">Guardar cambios</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n  \r\n<script>\r\nimport axios from 'axios'\r\nimport { Modal } from 'bootstrap'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        nombre: '',\r\n        correo_electronico: '',\r\n        cargo: '',\r\n        posicion: '',\r\n        cedula: '',\r\n        extension: '',\r\n        estado: '',\r\n        departamento: ''\r\n      },\r\n      editUser: {\r\n        nombre: '',\r\n        cargo: '',\r\n        posicion: '',\r\n        extension: '',\r\n        departamento: ''\r\n      },\r\n      editModalInstance: null\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUserData()\r\n  },\r\n  methods: {\r\n    async fetchUserData() {\r\n      try {\r\n        const token = localStorage.getItem('auth_token')\r\n        const response = await axios.get('http://localhost:8000/api/user', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        })\r\n        this.user = response.data.data\r\n        this.editUser = { ...this.user }\r\n        this.$nextTick(() => {\r\n          this.editModalInstance = new Modal(document.getElementById('editModal'))\r\n        })\r\n      } catch (error) {\r\n        console.error('Error fetching user data', error)\r\n      }\r\n    },\r\n    async updateUserData() {\r\n      try {\r\n        const token = localStorage.getItem('auth_token')\r\n        await axios.put('http://localhost:8000/api/edit_user', this.editUser, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        })\r\n        this.user = { ...this.editUser }\r\n        this.editModalInstance.hide()\r\n      } catch (error) {\r\n        console.error('Error updating user data', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n  "],"mappings":"AA4FA,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,KAAI,QAAS,WAAU;AAEhC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,MAAM,EAAE,EAAE;QACVC,kBAAkB,EAAE,EAAE;QACtBC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE,EAAE;QACVC,SAAS,EAAE,EAAE;QACbC,MAAM,EAAE,EAAE;QACVC,YAAY,EAAE;MAChB,CAAC;MACDC,QAAQ,EAAE;QACRR,MAAM,EAAE,EAAE;QACVE,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZE,SAAS,EAAE,EAAE;QACbE,YAAY,EAAE;MAChB,CAAC;MACDE,iBAAiB,EAAE;IACrB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY;QAC/C,MAAMC,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAC,gCAAgC,EAAE;UACjEC,OAAO,EAAE;YACP,eAAe,EAAG,UAASL,KAAM;UACnC;QACF,CAAC;QACD,IAAI,CAACd,IAAG,GAAIiB,QAAQ,CAAClB,IAAI,CAACA,IAAG;QAC7B,IAAI,CAACU,QAAO,GAAI;UAAE,GAAG,IAAI,CAACT;QAAK;QAC/B,IAAI,CAACoB,SAAS,CAAC,MAAM;UACnB,IAAI,CAACV,iBAAgB,GAAI,IAAIZ,KAAK,CAACuB,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;QACzE,CAAC;MACH,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK;MACjD;IACF,CAAC;IACD,MAAME,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMX,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY;QAC/C,MAAMnB,KAAK,CAAC6B,GAAG,CAAC,qCAAqC,EAAE,IAAI,CAACjB,QAAQ,EAAE;UACpEU,OAAO,EAAE;YACP,eAAe,EAAG,UAASL,KAAM;UACnC;QACF,CAAC;QACD,IAAI,CAACd,IAAG,GAAI;UAAE,GAAG,IAAI,CAACS;QAAS;QAC/B,IAAI,CAACC,iBAAiB,CAACiB,IAAI,CAAC;MAC9B,EAAE,OAAOJ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK;MACjD;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}