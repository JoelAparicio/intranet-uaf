{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nexport default {\n  name: 'ListaUsuarioRol',\n  components: {\n    FontAwesomeIcon\n  },\n  data() {\n    return {\n      openDropdownId: null,\n      searchTerm: '',\n      selectedRole: '',\n      selectedStatus: '',\n      roles: [],\n      users: [],\n      currentUser: {},\n      showEditUserModal: false,\n      editUserData: {\n        id: null,\n        nombre: '',\n        correo_electronico: '',\n        cargo: '',\n        posicion: '',\n        cedula: '',\n        extension: '',\n        departamento: '',\n        tiempo_extra: 0\n      },\n      viewMode: 'table',\n      currentPage: 1,\n      itemsPerPage: 10,\n      loading: true\n    };\n  },\n  computed: {\n    filteredUsers() {\n      return this.users.filter(user => {\n        const matchesSearch = this.searchTerm === '' || user.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) || user.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\n        const matchesRole = this.selectedRole === '' || user.roles.includes(this.selectedRole);\n        const matchesStatus = this.selectedStatus === '' || user.estado === this.selectedStatus;\n        return matchesSearch && matchesRole && matchesStatus;\n      });\n    },\n    hasActiveFilters() {\n      return this.searchTerm || this.selectedRole || this.selectedStatus;\n    },\n    totalPages() {\n      return Math.ceil(this.filteredUsers.length / this.itemsPerPage);\n    },\n    paginatedUsers() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.filteredUsers.slice(start, end);\n    },\n    startIndex() {\n      return (this.currentPage - 1) * this.itemsPerPage;\n    },\n    endIndex() {\n      return Math.min(this.startIndex + this.itemsPerPage, this.filteredUsers.length);\n    },\n    visiblePages() {\n      const delta = 2;\n      const range = [];\n      const rangeWithDots = [];\n      let l;\n      for (let i = 1; i <= this.totalPages; i++) {\n        if (i === 1 || i === this.totalPages || i >= this.currentPage - delta && i <= this.currentPage + delta) {\n          range.push(i);\n        }\n      }\n      range.forEach(i => {\n        if (l) {\n          if (i - l === 2) {\n            rangeWithDots.push(l + 1);\n          } else if (i - l !== 1) {\n            rangeWithDots.push('...');\n          }\n        }\n        rangeWithDots.push(i);\n        l = i;\n      });\n      return rangeWithDots;\n    }\n  },\n  watch: {\n    filteredUsers() {\n      // Reset to first page when filters change\n      this.currentPage = 1;\n    }\n  },\n  methods: {\n    getDropdownPosition(userId) {\n      // Verificar si es uno de los últimos usuarios\n      const userIndex = this.paginatedUsers.findIndex(u => u.id === userId);\n      const isLastRows = userIndex >= this.paginatedUsers.length - 2; // Los últimos 2 usuarios\n\n      if (isLastRows || this.viewMode === 'cards') {\n        return {\n          bottom: '100%',\n          top: 'auto',\n          marginBottom: '0.125rem',\n          marginTop: '0'\n        };\n      }\n      return {\n        top: '100%',\n        bottom: 'auto',\n        marginTop: '0.125rem',\n        marginBottom: '0'\n      };\n    },\n    toggleDropdown(userId) {\n      if (this.openDropdownId === userId) {\n        this.openDropdownId = null;\n      } else {\n        this.openDropdownId = userId;\n      }\n    },\n    handleEditUser(user) {\n      this.openDropdownId = null;\n      this.openEditUserModal(user);\n    },\n    handleToggleStatus(user) {\n      this.openDropdownId = null;\n      this.toggleUserStatus(user);\n    },\n    handleDeleteUser(user) {\n      this.openDropdownId = null;\n      this.confirmDeleteUser(user);\n    },\n    async fetchUsers() {\n      try {\n        this.loading = true;\n        const response = await axios.get('http://localhost:8000/api/administrar_usuarios');\n        if (response.data.status) {\n          this.users = response.data.data;\n          this.roles = [...new Set(this.users.flatMap(user => user.roles))];\n\n          // Emitir estadísticas al componente padre\n          const activeUsers = this.users.filter(u => u.estado === 'Activo').length;\n          this.$emit('update-stats', {\n            totalUsers: this.users.length,\n            activeUsers: activeUsers\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching users:', error);\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'No se pudieron cargar los usuarios',\n          timer: 2000,\n          showConfirmButton: false\n        });\n      } finally {\n        this.loading = false;\n      }\n    },\n    async fetchCurrentUser() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/user');\n        this.currentUser = response.data.data;\n      } catch (error) {\n        console.error('Error fetching current user:', error);\n      }\n    },\n    async deleteUser(userId, actionUserId) {\n      try {\n        await axios.put(`http://localhost:8000/api/borrar_usuario/${userId}`, {\n          action_user_id: actionUserId\n        });\n        this.fetchUsers();\n        Swal.fire('Eliminado!', 'El usuario ha sido eliminado.', 'success');\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        Swal.fire('Error!', 'No se pudo eliminar el usuario.', 'error');\n      }\n    },\n    confirmDeleteUser(user) {\n      if (user.id === this.currentUser.id) {\n        Swal.fire('Error!', 'No puedes borrarte a ti mismo.', 'error');\n        return;\n      }\n      Swal.fire({\n        title: '¿Estás seguro?',\n        text: 'Esta acción será permanente y no se puede deshacer.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#d33',\n        cancelButtonColor: '#3085d6',\n        confirmButtonText: 'Sí, eliminar',\n        cancelButtonText: 'Cancelar'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.deleteUser(user.id, this.currentUser.id);\n        }\n      });\n    },\n    openEditUserModal(user) {\n      this.editUserData = {\n        ...user\n      };\n      this.showEditUserModal = true;\n    },\n    closeEditUserModal() {\n      this.showEditUserModal = false;\n    },\n    async updateUser() {\n      try {\n        await axios.put(`http://localhost:8000/api/actualizar_usuario/${this.editUserData.id}`, this.editUserData);\n        this.fetchUsers();\n        this.closeEditUserModal();\n        Swal.fire({\n          title: 'Actualizado!',\n          text: 'El usuario ha sido actualizado.',\n          icon: 'success',\n          timer: 1500,\n          showConfirmButton: false\n        });\n      } catch (error) {\n        console.error('Error updating user:', error);\n        Swal.fire('Error!', 'No se pudo actualizar el usuario.', 'error');\n      }\n    },\n    async toggleUserStatus(user) {\n      const newState = user.estado === 'Activo' ? 'inactivo' : 'activo';\n      try {\n        await axios.put(`http://localhost:8000/api/status_usuario/${user.id}`, {\n          estado: newState\n        });\n        this.fetchUsers();\n        Swal.fire({\n          title: 'Status actualizado!',\n          text: `El usuario ahora está ${newState}.`,\n          icon: 'success',\n          timer: 1500,\n          showConfirmButton: false\n        });\n      } catch (error) {\n        console.error('Error toggling user status:', error);\n        Swal.fire('Error!', 'No se pudo cambiar el estado del usuario.', 'error');\n      }\n    },\n    getRoleColor(role) {\n      if (!role) return '#6c757d';\n      const lowerRole = role.toLowerCase();\n      if (lowerRole.includes('administrador')) return '#dc3545';\n      if (lowerRole.includes('jefe') || lowerRole.includes('director')) return '#007bff';\n      if (lowerRole.includes('analista')) return '#28a745';\n      if (lowerRole.includes('aseso')) return '#6f42c1';\n      return '#6c757d';\n    },\n    clearFilters() {\n      this.searchTerm = '';\n      this.selectedRole = '';\n      this.selectedStatus = '';\n    },\n    changePage(page) {\n      if (page !== '...' && page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    },\n    previousPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    }\n  },\n  mounted() {\n    this.fetchUsers();\n    this.fetchCurrentUser();\n    // Cerrar dropdown al hacer click fuera\n    document.addEventListener('click', e => {\n      if (!e.target.closest('.custom-dropdown')) {\n        this.openDropdownId = null;\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","Swal","FontAwesomeIcon","name","components","data","openDropdownId","searchTerm","selectedRole","selectedStatus","roles","users","currentUser","showEditUserModal","editUserData","id","nombre","correo_electronico","cargo","posicion","cedula","extension","departamento","tiempo_extra","viewMode","currentPage","itemsPerPage","loading","computed","filteredUsers","filter","user","matchesSearch","toLowerCase","includes","matchesRole","matchesStatus","estado","hasActiveFilters","totalPages","Math","ceil","length","paginatedUsers","start","end","slice","startIndex","endIndex","min","visiblePages","delta","range","rangeWithDots","l","i","push","forEach","watch","methods","getDropdownPosition","userId","userIndex","findIndex","u","isLastRows","bottom","top","marginBottom","marginTop","toggleDropdown","handleEditUser","openEditUserModal","handleToggleStatus","toggleUserStatus","handleDeleteUser","confirmDeleteUser","fetchUsers","response","get","status","Set","flatMap","activeUsers","$emit","totalUsers","error","console","fire","icon","title","text","timer","showConfirmButton","fetchCurrentUser","deleteUser","actionUserId","put","action_user_id","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","closeEditUserModal","updateUser","newState","getRoleColor","role","lowerRole","clearFilters","changePage","page","nextPage","previousPage","mounted","document","addEventListener","e","target","closest"],"sources":["C:\\xampp\\htdocs\\intranet\\intranet-frontend\\src\\components\\Lista_Usuario_Rol.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-4 mb-4\">\r\n    <div class=\"card shadow-sm no-animation\">\r\n      <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h2>Administración de usuarios</h2>\r\n          <p class=\"text-muted mb-0\">Gestiona los usuarios y sus permisos en el sistema</p>\r\n        </div>\r\n        <div class=\"view-toggle\">\r\n          <button\r\n              class=\"toggle-btn\"\r\n              :class=\"{ active: viewMode === 'table' }\"\r\n              @click=\"viewMode = 'table'\"\r\n              title=\"Vista de tabla\"\r\n          >\r\n            <font-awesome-icon :icon=\"['fas', 'table']\" />\r\n          </button>\r\n          <button\r\n              class=\"toggle-btn\"\r\n              :class=\"{ active: viewMode === 'cards' }\"\r\n              @click=\"viewMode = 'cards'\"\r\n              title=\"Vista de tarjetas\"\r\n          >\r\n            <font-awesome-icon :icon=\"['fas', 'th-large']\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <!-- Filtros mejorados -->\r\n        <div class=\"filters-section mb-4\">\r\n          <div class=\"search-container\">\r\n            <font-awesome-icon :icon=\"['fas', 'search']\" class=\"search-icon\" />\r\n            <input\r\n                type=\"text\"\r\n                class=\"form-control search-input\"\r\n                placeholder=\"Buscar por nombre o correo electrónico\"\r\n                v-model=\"searchTerm\"\r\n                style=\"padding-left: 40px;\"\r\n            />\r\n          </div>\r\n          <div class=\"filter-chips\">\r\n            <select class=\"form-select filter-select\" v-model=\"selectedRole\">\r\n              <option value=\"\">Todos los roles</option>\r\n              <option v-for=\"role in roles\" :key=\"role\" :value=\"role\">{{ role }}</option>\r\n            </select>\r\n            <select class=\"form-select filter-select\" v-model=\"selectedStatus\">\r\n              <option value=\"\">Todos los estados</option>\r\n              <option value=\"Activo\">Activos</option>\r\n              <option value=\"Inactivo\">Inactivos</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Resumen de filtros activos -->\r\n        <div v-if=\"hasActiveFilters\" class=\"active-filters mb-3\">\r\n          <span class=\"filter-label\">Filtros activos:</span>\r\n          <span v-if=\"searchTerm\" class=\"filter-chip\">\r\n            <font-awesome-icon :icon=\"['fas', 'search']\" class=\"me-1\" />\r\n            {{ searchTerm }}\r\n            <button @click=\"searchTerm = ''\" class=\"chip-close\">\r\n              <font-awesome-icon :icon=\"['fas', 'times']\" />\r\n            </button>\r\n          </span>\r\n          <span v-if=\"selectedRole\" class=\"filter-chip\">\r\n            <font-awesome-icon :icon=\"['fas', 'shield-alt']\" class=\"me-1\" />\r\n            {{ selectedRole }}\r\n            <button @click=\"selectedRole = ''\" class=\"chip-close\">\r\n              <font-awesome-icon :icon=\"['fas', 'times']\" />\r\n            </button>\r\n          </span>\r\n          <span v-if=\"selectedStatus\" class=\"filter-chip\">\r\n            <font-awesome-icon :icon=\"['fas', 'toggle-on']\" class=\"me-1\" />\r\n            {{ selectedStatus }}\r\n            <button @click=\"selectedStatus = ''\" class=\"chip-close\">\r\n              <font-awesome-icon :icon=\"['fas', 'times']\" />\r\n            </button>\r\n          </span>\r\n          <button @click=\"clearFilters\" class=\"btn btn-sm btn-link text-danger\">\r\n            Limpiar todo\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Loading skeleton -->\r\n        <div v-if=\"loading\">\r\n          <div v-if=\"viewMode === 'table'\" class=\"skeleton-table\">\r\n            <div class=\"skeleton-row skeleton-header\"></div>\r\n            <div v-for=\"i in 5\" :key=\"i\" class=\"skeleton-row\"></div>\r\n          </div>\r\n          <div v-else class=\"skeleton-cards\">\r\n            <div v-for=\"i in 6\" :key=\"i\" class=\"skeleton-card\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Empty state -->\r\n        <div v-else-if=\"filteredUsers.length === 0\" class=\"empty-state\">\r\n          <font-awesome-icon :icon=\"['fas', 'users-slash']\" class=\"empty-icon\" />\r\n          <h4>No se encontraron usuarios</h4>\r\n          <p class=\"text-muted\">\r\n            {{ hasActiveFilters ? 'Intenta ajustar los filtros de búsqueda' : 'No hay usuarios registrados en el sistema' }}\r\n          </p>\r\n        </div>\r\n\r\n        <!-- Vista de tabla -->\r\n        <div v-else-if=\"viewMode === 'table'\" class=\"table-container\">\r\n          <table class=\"table table-hover\">\r\n            <thead>\r\n            <tr>\r\n              <th>Usuario</th>\r\n              <th>Rol</th>\r\n              <th>Departamento</th>\r\n              <th>Estado</th>\r\n              <th class=\"text-center\">Acciones</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"user in paginatedUsers\" :key=\"user.id\">\r\n              <td>\r\n                <div class=\"user-cell\">\r\n                  <div class=\"user-initial\">{{ user.nombre.charAt(0).toUpperCase() }}</div>\r\n                  <div>\r\n                    <div class=\"user-name\">{{ user.nombre }}</div>\r\n                    <div class=\"user-email\">{{ user.correo_electronico }}</div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                  <span class=\"role-badge\" :style=\"{ backgroundColor: getRoleColor(user.roles[0]) + '20', color: getRoleColor(user.roles[0]) }\">\r\n                    {{ user.roles.join(', ') }}\r\n                  </span>\r\n              </td>\r\n              <td>\r\n                <span class=\"department-text\">{{ user.departamento || 'Sin asignar' }}</span>\r\n              </td>\r\n              <td>\r\n                  <span :class=\"user.estado === 'Activo' ? 'status-badge status-active' : 'status-badge status-inactive'\">\r\n                    <span class=\"status-dot\"></span>\r\n                    {{ user.estado }}\r\n                  </span>\r\n              </td>\r\n              <td>\r\n                <div class=\"actions-container\">\r\n                  <div class=\"custom-dropdown\">\r\n                    <button\r\n                        class=\"btn btn-sm btn-light\"\r\n                        @click=\"toggleDropdown(user.id)\"\r\n                    >\r\n                      <font-awesome-icon :icon=\"['fas', 'ellipsis-v']\" />\r\n                    </button>\r\n                    <div v-if=\"openDropdownId === user.id\" class=\"custom-dropdown-menu\" :style=\"getDropdownPosition(user.id)\">\r\n                      <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEditUser(user)\">\r\n                        <font-awesome-icon :icon=\"['fas', 'user-pen']\" class=\"me-2 text-primary\" />\r\n                        Editar información\r\n                      </a>\r\n                      <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleToggleStatus(user)\">\r\n                        <font-awesome-icon :icon=\"user.estado === 'Activo' ? ['fas', 'toggle-off'] : ['fas', 'toggle-on']\" class=\"me-2\" :class=\"user.estado === 'Activo' ? 'text-warning' : 'text-success'\" />\r\n                        {{ user.estado === 'Activo' ? 'Desactivar' : 'Activar' }} usuario\r\n                      </a>\r\n                      <div class=\"dropdown-divider\"></div>\r\n                      <a class=\"dropdown-item text-danger\" href=\"#\" @click.prevent=\"handleDeleteUser(user)\">\r\n                        <font-awesome-icon :icon=\"['fas', 'trash']\" class=\"me-2\" />\r\n                        Eliminar usuario\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Vista de tarjetas -->\r\n        <div v-else class=\"cards-container\">\r\n          <div v-for=\"user in paginatedUsers\" :key=\"user.id\" class=\"user-card\">\r\n            <div class=\"card-header-section\">\r\n              <div class=\"user-initial-large\">{{ user.nombre.charAt(0).toUpperCase() }}</div>\r\n              <div class=\"user-info-card\">\r\n                <h5 class=\"user-name-card\">{{ user.nombre }}</h5>\r\n                <p class=\"user-email-card\">{{ user.correo_electronico }}</p>\r\n              </div>\r\n              <div class=\"custom-dropdown ms-auto\">\r\n                <button\r\n                    class=\"btn btn-sm btn-light\"\r\n                    @click=\"toggleDropdown(user.id)\"\r\n                >\r\n                  <font-awesome-icon :icon=\"['fas', 'ellipsis-v']\" />\r\n                </button>\r\n                <div v-if=\"openDropdownId === user.id\" class=\"custom-dropdown-menu\" :style=\"getDropdownPosition(user.id)\">\r\n                  <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEditUser(user)\">\r\n                    <font-awesome-icon :icon=\"['fas', 'user-pen']\" class=\"me-2 text-primary\" />\r\n                    Editar información\r\n                  </a>\r\n                  <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleToggleStatus(user)\">\r\n                    <font-awesome-icon :icon=\"user.estado === 'Activo' ? ['fas', 'toggle-off'] : ['fas', 'toggle-on']\" class=\"me-2\" :class=\"user.estado === 'Activo' ? 'text-warning' : 'text-success'\" />\r\n                    {{ user.estado === 'Activo' ? 'Desactivar' : 'Activar' }} usuario\r\n                  </a>\r\n                  <div class=\"dropdown-divider\"></div>\r\n                  <a class=\"dropdown-item text-danger\" href=\"#\" @click.prevent=\"handleDeleteUser(user)\">\r\n                    <font-awesome-icon :icon=\"['fas', 'trash']\" class=\"me-2\" />\r\n                    Eliminar usuario\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-details\">\r\n              <div class=\"detail-item\">\r\n                <span class=\"detail-label\">Rol:</span>\r\n                <span class=\"role-badge\" :style=\"{ backgroundColor: getRoleColor(user.roles[0]) + '20', color: getRoleColor(user.roles[0]) }\">\r\n                  {{ user.roles.join(', ') }}\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <span class=\"detail-label\">Departamento:</span>\r\n                <span>{{ user.departamento || 'Sin asignar' }}</span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <span class=\"detail-label\">Estado:</span>\r\n                <span :class=\"user.estado === 'Activo' ? 'status-badge status-active' : 'status-badge status-inactive'\">\r\n                  <span class=\"status-dot\"></span>\r\n                  {{ user.estado }}\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <span class=\"detail-label\">Cargo:</span>\r\n                <span>{{ user.cargo || 'No especificado' }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Paginación mejorada -->\r\n        <nav v-if=\"totalPages > 1\" aria-label=\"Page navigation\" class=\"mt-4\">\r\n          <div class=\"pagination-info\">\r\n            Mostrando {{ startIndex + 1 }} - {{ endIndex }} de {{ filteredUsers.length }} usuarios\r\n          </div>\r\n          <ul class=\"pagination justify-content-center\">\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n              <a class=\"page-link\" href=\"#\" @click.prevent=\"previousPage\">\r\n                <font-awesome-icon :icon=\"['fas', 'chevron-left']\" />\r\n              </a>\r\n            </li>\r\n            <li v-for=\"page in visiblePages\" :key=\"page\" class=\"page-item\" :class=\"{ active: currentPage === page }\">\r\n              <a v-if=\"page !== '...'\" class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page)\">{{ page }}</a>\r\n              <span v-else class=\"page-link\">...</span>\r\n            </li>\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\r\n              <a class=\"page-link\" href=\"#\" @click.prevent=\"nextPage\">\r\n                <font-awesome-icon :icon=\"['fas', 'chevron-right']\" />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal para editar usuario - Mejorado -->\r\n    <div v-if=\"showEditUserModal\" class=\"modal-overlay\" @click.self=\"closeEditUserModal\">\r\n      <div class=\"modal-container\">\r\n        <div class=\"modal-header\">\r\n          <div>\r\n            <h5 class=\"modal-title\">Editar Usuario</h5>\r\n            <p class=\"text-muted mb-0 small\">Actualiza la información del usuario</p>\r\n          </div>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"closeEditUserModal\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"updateUser\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"nombre\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'user']\" class=\"me-1 text-muted\" />\r\n                  Nombre completo\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"nombre\" v-model=\"editUserData.nombre\" required />\r\n              </div>\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"correo_electronico\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'envelope']\" class=\"me-1 text-muted\" />\r\n                  Correo electrónico\r\n                </label>\r\n                <input type=\"email\" class=\"form-control\" id=\"correo_electronico\" v-model=\"editUserData.correo_electronico\" required />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"cargo\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'briefcase']\" class=\"me-1 text-muted\" />\r\n                  Cargo\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cargo\" v-model=\"editUserData.cargo\" required />\r\n              </div>\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"posicion\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'sitemap']\" class=\"me-1 text-muted\" />\r\n                  Posición\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"posicion\" v-model=\"editUserData.posicion\" required />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"cedula\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'id-card']\" class=\"me-1 text-muted\" />\r\n                  Cédula\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"cedula\" v-model=\"editUserData.cedula\" required />\r\n              </div>\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"extension\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'phone']\" class=\"me-1 text-muted\" />\r\n                  Extensión\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"extension\" v-model=\"editUserData.extension\" required />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"departamento\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'building']\" class=\"me-1 text-muted\" />\r\n                  Departamento\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"departamento\" v-model=\"editUserData.departamento\" />\r\n              </div>\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"tiempo_extra\" class=\"form-label\">\r\n                  <font-awesome-icon :icon=\"['fas', 'clock']\" class=\"me-1 text-muted\" />\r\n                  Tiempo extra (horas)\r\n                </label>\r\n                <input type=\"number\" class=\"form-control\" id=\"tiempo_extra\" v-model=\"editUserData.tiempo_extra\" required min=\"0\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer px-0\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeEditUserModal\">Cancelar</button>\r\n              <button type=\"submit\" class=\"btn btn-primary\">\r\n                <font-awesome-icon :icon=\"['fas', 'save']\" class=\"me-2\" />\r\n                Guardar cambios\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\n\r\nexport default {\r\n  name: 'ListaUsuarioRol',\r\n  components: {\r\n    FontAwesomeIcon\r\n  },\r\n  data() {\r\n    return {\r\n      openDropdownId: null,\r\n      searchTerm: '',\r\n      selectedRole: '',\r\n      selectedStatus: '',\r\n      roles: [],\r\n      users: [],\r\n      currentUser: {},\r\n      showEditUserModal: false,\r\n      editUserData: {\r\n        id: null,\r\n        nombre: '',\r\n        correo_electronico: '',\r\n        cargo: '',\r\n        posicion: '',\r\n        cedula: '',\r\n        extension: '',\r\n        departamento: '',\r\n        tiempo_extra: 0\r\n      },\r\n      viewMode: 'table',\r\n      currentPage: 1,\r\n      itemsPerPage: 10,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      return this.users.filter(user => {\r\n        const matchesSearch = this.searchTerm === '' ||\r\n            user.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\r\n            user.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\r\n        const matchesRole = this.selectedRole === '' || user.roles.includes(this.selectedRole);\r\n        const matchesStatus = this.selectedStatus === '' || user.estado === this.selectedStatus;\r\n\r\n        return matchesSearch && matchesRole && matchesStatus;\r\n      });\r\n    },\r\n    hasActiveFilters() {\r\n      return this.searchTerm || this.selectedRole || this.selectedStatus;\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.filteredUsers.length / this.itemsPerPage);\r\n    },\r\n    paginatedUsers() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage;\r\n      const end = start + this.itemsPerPage;\r\n      return this.filteredUsers.slice(start, end);\r\n    },\r\n    startIndex() {\r\n      return (this.currentPage - 1) * this.itemsPerPage;\r\n    },\r\n    endIndex() {\r\n      return Math.min(this.startIndex + this.itemsPerPage, this.filteredUsers.length);\r\n    },\r\n    visiblePages() {\r\n      const delta = 2;\r\n      const range = [];\r\n      const rangeWithDots = [];\r\n      let l;\r\n\r\n      for (let i = 1; i <= this.totalPages; i++) {\r\n        if (i === 1 || i === this.totalPages || (i >= this.currentPage - delta && i <= this.currentPage + delta)) {\r\n          range.push(i);\r\n        }\r\n      }\r\n\r\n      range.forEach((i) => {\r\n        if (l) {\r\n          if (i - l === 2) {\r\n            rangeWithDots.push(l + 1);\r\n          } else if (i - l !== 1) {\r\n            rangeWithDots.push('...');\r\n          }\r\n        }\r\n        rangeWithDots.push(i);\r\n        l = i;\r\n      });\r\n\r\n      return rangeWithDots;\r\n    }\r\n  },\r\n  watch: {\r\n    filteredUsers() {\r\n      // Reset to first page when filters change\r\n      this.currentPage = 1;\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    getDropdownPosition(userId) {\r\n      // Verificar si es uno de los últimos usuarios\r\n      const userIndex = this.paginatedUsers.findIndex(u => u.id === userId);\r\n      const isLastRows = userIndex >= this.paginatedUsers.length - 2; // Los últimos 2 usuarios\r\n\r\n      if (isLastRows || this.viewMode === 'cards') {\r\n        return {\r\n          bottom: '100%',\r\n          top: 'auto',\r\n          marginBottom: '0.125rem',\r\n          marginTop: '0'\r\n        };\r\n      }\r\n\r\n      return {\r\n        top: '100%',\r\n        bottom: 'auto',\r\n        marginTop: '0.125rem',\r\n        marginBottom: '0'\r\n      };\r\n    },\r\n\r\n    toggleDropdown(userId) {\r\n      if (this.openDropdownId === userId) {\r\n        this.openDropdownId = null;\r\n      } else {\r\n        this.openDropdownId = userId;\r\n      }\r\n    },\r\n    handleEditUser(user) {\r\n      this.openDropdownId = null;\r\n      this.openEditUserModal(user);\r\n    },\r\n    handleToggleStatus(user) {\r\n      this.openDropdownId = null;\r\n      this.toggleUserStatus(user);\r\n    },\r\n    handleDeleteUser(user) {\r\n      this.openDropdownId = null;\r\n      this.confirmDeleteUser(user);\r\n    },\r\n\r\n    async fetchUsers() {\r\n      try {\r\n        this.loading = true;\r\n        const response = await axios.get('http://localhost:8000/api/administrar_usuarios');\r\n        if (response.data.status) {\r\n          this.users = response.data.data;\r\n          this.roles = [...new Set(this.users.flatMap(user => user.roles))];\r\n\r\n          // Emitir estadísticas al componente padre\r\n          const activeUsers = this.users.filter(u => u.estado === 'Activo').length;\r\n          this.$emit('update-stats', {\r\n            totalUsers: this.users.length,\r\n            activeUsers: activeUsers\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'No se pudieron cargar los usuarios',\r\n          timer: 2000,\r\n          showConfirmButton: false\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async fetchCurrentUser() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/user');\r\n        this.currentUser = response.data.data;\r\n      } catch (error) {\r\n        console.error('Error fetching current user:', error);\r\n      }\r\n    },\r\n    async deleteUser(userId, actionUserId) {\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/borrar_usuario/${userId}`, { action_user_id: actionUserId });\r\n        this.fetchUsers();\r\n        Swal.fire('Eliminado!', 'El usuario ha sido eliminado.', 'success');\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        Swal.fire('Error!', 'No se pudo eliminar el usuario.', 'error');\r\n      }\r\n    },\r\n    confirmDeleteUser(user) {\r\n      if (user.id === this.currentUser.id) {\r\n        Swal.fire('Error!', 'No puedes borrarte a ti mismo.', 'error');\r\n        return;\r\n      }\r\n\r\n      Swal.fire({\r\n        title: '¿Estás seguro?',\r\n        text: 'Esta acción será permanente y no se puede deshacer.',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        cancelButtonColor: '#3085d6',\r\n        confirmButtonText: 'Sí, eliminar',\r\n        cancelButtonText: 'Cancelar'\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.deleteUser(user.id, this.currentUser.id);\r\n        }\r\n      });\r\n    },\r\n    openEditUserModal(user) {\r\n      this.editUserData = { ...user };\r\n      this.showEditUserModal = true;\r\n    },\r\n    closeEditUserModal() {\r\n      this.showEditUserModal = false;\r\n    },\r\n    async updateUser() {\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/actualizar_usuario/${this.editUserData.id}`, this.editUserData);\r\n        this.fetchUsers();\r\n        this.closeEditUserModal();\r\n        Swal.fire({\r\n          title: 'Actualizado!',\r\n          text: 'El usuario ha sido actualizado.',\r\n          icon: 'success',\r\n          timer: 1500,\r\n          showConfirmButton: false\r\n        });\r\n      } catch (error) {\r\n        console.error('Error updating user:', error);\r\n        Swal.fire('Error!', 'No se pudo actualizar el usuario.', 'error');\r\n      }\r\n    },\r\n    async toggleUserStatus(user) {\r\n      const newState = user.estado === 'Activo' ? 'inactivo' : 'activo';\r\n      try {\r\n        await axios.put(`http://localhost:8000/api/status_usuario/${user.id}`, { estado: newState });\r\n        this.fetchUsers();\r\n        Swal.fire({\r\n          title: 'Status actualizado!',\r\n          text: `El usuario ahora está ${newState}.`,\r\n          icon: 'success',\r\n          timer: 1500,\r\n          showConfirmButton: false\r\n        });\r\n      } catch (error) {\r\n        console.error('Error toggling user status:', error);\r\n        Swal.fire('Error!', 'No se pudo cambiar el estado del usuario.', 'error');\r\n      }\r\n    },\r\n    getRoleColor(role) {\r\n      if (!role) return '#6c757d';\r\n      const lowerRole = role.toLowerCase();\r\n      if (lowerRole.includes('administrador')) return '#dc3545';\r\n      if (lowerRole.includes('jefe') || lowerRole.includes('director')) return '#007bff';\r\n      if (lowerRole.includes('analista')) return '#28a745';\r\n      if (lowerRole.includes('aseso')) return '#6f42c1';\r\n      return '#6c757d';\r\n    },\r\n    clearFilters() {\r\n      this.searchTerm = '';\r\n      this.selectedRole = '';\r\n      this.selectedStatus = '';\r\n    },\r\n    changePage(page) {\r\n      if (page !== '...' && page >= 1 && page <= this.totalPages) {\r\n        this.currentPage = page;\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n      }\r\n    },\r\n    previousPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers();\r\n    this.fetchCurrentUser();\r\n    // Cerrar dropdown al hacer click fuera\r\n    document.addEventListener('click', (e) => {\r\n      if (!e.target.closest('.custom-dropdown')) {\r\n        this.openDropdownId = null;\r\n      }\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* Custom Dropdown */\r\n.custom-dropdown {\r\n  position: relative;\r\n}\r\n\r\n.custom-dropdown-menu {\r\n  position: absolute;\r\n  right: 0;\r\n  z-index: 1000;\r\n  min-width: 200px;\r\n  padding: 0.5rem 0;\r\n  background-color: #fff;\r\n  border: 1px solid rgba(0, 0, 0, 0.15);\r\n  border-radius: 0.375rem;\r\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.custom-dropdown-menu .dropdown-item {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 0.5rem 1rem;\r\n  color: #212529;\r\n  text-align: inherit;\r\n  text-decoration: none;\r\n  white-space: nowrap;\r\n  background-color: transparent;\r\n  border: 0;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.custom-dropdown-menu .dropdown-item:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.custom-dropdown-menu .dropdown-divider {\r\n  height: 0;\r\n  margin: 0.5rem 0;\r\n  overflow: hidden;\r\n  border-top: 1px solid #e9ecef;\r\n}\r\n/* Card Base */\r\n.card.no-animation {\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.card-header {\r\n  background-color: #ffffff;\r\n  border-bottom: 1px solid #e9ecef;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.card-header h2 {\r\n  margin-bottom: 0.25rem;\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.card-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n/* View Toggle */\r\n.view-toggle {\r\n  display: flex;\r\n  gap: 5px;\r\n  background: #f8f9fa;\r\n  padding: 4px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.toggle-btn {\r\n  background: transparent;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  color: #6c757d;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n}\r\n\r\n.toggle-btn:hover {\r\n  background: #e9ecef;\r\n}\r\n\r\n.toggle-btn.active {\r\n  background: #fff;\r\n  color: #007bff;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* Filters Section */\r\n.filters-section {\r\n  display: flex;\r\n  gap: 15px;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n}\r\n\r\n.search-container {\r\n  position: relative;\r\n  flex: 1;\r\n  min-width: 300px;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 15px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #6c757d;\r\n}\r\n\r\n.search-input {\r\n  padding-left: 40px;\r\n  border-radius: 8px;\r\n  border: 1px solid #dee2e6;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.filter-chips {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-select {\r\n  border-radius: 8px;\r\n  border: 1px solid #dee2e6;\r\n  padding: 0.625rem 0.875rem;\r\n  min-width: 150px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.filter-select:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n/* Active Filters */\r\n.active-filters {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n  padding: 10px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.filter-label {\r\n  font-weight: 500;\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n}\r\n\r\n.filter-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  padding: 5px 12px;\r\n  background: #007bff;\r\n  color: white;\r\n  border-radius: 20px;\r\n  font-size: 13px;\r\n}\r\n\r\n.chip-close {\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  padding: 0;\r\n  margin-left: 5px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  opacity: 0.8;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.chip-close:hover {\r\n  opacity: 1;\r\n}\r\n\r\n/* Table Styles */\r\n.table-container {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.table {\r\n  margin: 0;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.table thead th {\r\n  background-color: #f8f9fa;\r\n  border-bottom: 2px solid #dee2e6;\r\n  padding: 1rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  text-transform: uppercase;\r\n  font-size: 12px;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.table tbody tr {\r\n  transition: all 0.2s;\r\n}\r\n\r\n.table tbody tr:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.table td {\r\n  padding: 1rem;\r\n  vertical-align: middle;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n/* User Cell */\r\n.user-cell {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.user-initial, .user-initial-large {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-initial-large {\r\n  width: 60px;\r\n  height: 60px;\r\n  font-size: 24px;\r\n}\r\n\r\n.user-name, .user-name-card {\r\n  font-weight: 500;\r\n  color: #2c3e50;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.user-email, .user-email-card {\r\n  font-size: 13px;\r\n  color: #6c757d;\r\n  margin: 0;\r\n}\r\n\r\n/* Role Badge */\r\n.role-badge {\r\n  display: inline-block;\r\n  padding: 5px 12px;\r\n  border-radius: 20px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Status Badge */\r\n.status-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 5px 12px;\r\n  border-radius: 20px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-active {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-inactive {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-dot {\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 50%;\r\n  background-color: currentColor;\r\n}\r\n\r\n/* Actions */\r\n.actions-container {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.dropdown-toggle {\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 6px;\r\n  padding: 6px 12px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.dropdown-toggle:hover {\r\n  background-color: #f8f9fa;\r\n  border-color: #007bff;\r\n}\r\n\r\n.dropdown-menu {\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  padding: 0.5rem 0;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 0.5rem 1rem;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n/* Cards View */\r\n.cards-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.user-card {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  transition: all 0.3s;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.user-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-header-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.user-info-card {\r\n  flex: 1;\r\n}\r\n\r\n.user-name-card {\r\n  margin: 0 0 5px 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.card-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.detail-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.detail-label {\r\n  font-weight: 500;\r\n  color: #6c757d;\r\n  min-width: 100px;\r\n}\r\n\r\n/* Skeleton Loading */\r\n.skeleton-table {\r\n  background: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.skeleton-row {\r\n  height: 60px;\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  margin-bottom: 1px;\r\n}\r\n\r\n.skeleton-header {\r\n  height: 50px;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.skeleton-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.skeleton-card {\r\n  height: 200px;\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 12px;\r\n}\r\n\r\n@keyframes loading {\r\n  0% {\r\n    background-position: 200% 0;\r\n  }\r\n  100% {\r\n    background-position: -200% 0;\r\n  }\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 64px;\r\n  color: #dee2e6;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.empty-state h4 {\r\n  color: #6c757d;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* Pagination */\r\n.pagination-info {\r\n  text-align: center;\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n}\r\n\r\n.pagination .page-item {\r\n  margin: 0 3px;\r\n}\r\n\r\n.pagination .page-link {\r\n  color: #007bff;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 8px;\r\n  padding: 8px 14px;\r\n  font-weight: 500;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.pagination .page-item.active .page-link {\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n  color: white;\r\n  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);\r\n}\r\n\r\n.pagination .page-item.disabled .page-link {\r\n  color: #6c757d;\r\n  background-color: #f8f9fa;\r\n  border-color: #dee2e6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.pagination .page-item .page-link:hover:not(.active):not(.disabled) {\r\n  background-color: #f8f9fa;\r\n  color: #0056b3;\r\n  border-color: #007bff;\r\n}\r\n\r\n/* Modal Styles */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1050;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.modal-container {\r\n  background-color: #fff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\r\n  width: 90%;\r\n  max-width: 650px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from {\r\n    transform: translateY(-30px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1.5rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.modal-title {\r\n  margin: 0;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.btn-close {\r\n  border: none;\r\n  background: none;\r\n  font-size: 1.5rem;\r\n  color: #6c757d;\r\n  cursor: pointer;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.btn-close:hover {\r\n  color: #000;\r\n}\r\n\r\n.modal-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 1rem 0 0;\r\n  border-top: 1px solid #e9ecef;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n/* Form Styles in Modal */\r\n.form-label {\r\n  font-weight: 500;\r\n  color: #495057;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-control {\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 8px;\r\n  padding: 0.625rem 0.875rem;\r\n  transition: all 0.2s;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-control:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n/* Button Styles */\r\n.btn {\r\n  border-radius: 8px;\r\n  padding: 0.5rem 1.25rem;\r\n  font-weight: 500;\r\n  transition: all 0.2s;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #007bff;\r\n  border: none;\r\n  color: white;\r\n  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #0056b3;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.btn-light {\r\n  background-color: #f8f9fa;\r\n  border: 1px solid #dee2e6;\r\n  color: #495057;\r\n}\r\n\r\n.btn-light:hover {\r\n  background-color: #e2e6ea;\r\n  border-color: #dae0e5;\r\n}\r\n\r\n.btn-link {\r\n  color: #007bff;\r\n  text-decoration: none;\r\n  padding: 0;\r\n}\r\n\r\n.btn-link:hover {\r\n  color: #0056b3;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Department Text */\r\n.department-text {\r\n  color: #495057;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  .filters-section {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .search-container {\r\n    min-width: 100%;\r\n  }\r\n\r\n  .filter-chips {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .filter-select {\r\n    flex: 1;\r\n  }\r\n\r\n  .cards-container {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .table-container {\r\n    overflow-x: auto;\r\n  }\r\n\r\n  .view-toggle {\r\n    display: none;\r\n  }\r\n\r\n  .modal-container {\r\n    width: 95%;\r\n    margin: 20px;\r\n  }\r\n}\r\n\r\n/* Transition Effects */\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n/* Icon animations */\r\n.fa-lg {\r\n  font-size: 1.5em;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-action {\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.btn-action:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n/* Text utilities */\r\n.text-primary {\r\n  color: #007bff !important;\r\n}\r\n\r\n.text-danger {\r\n  color: #dc3545 !important;\r\n}\r\n\r\n.text-success {\r\n  color: #28a745 !important;\r\n}\r\n\r\n.text-warning {\r\n  color: #ffc107 !important;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d !important;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}