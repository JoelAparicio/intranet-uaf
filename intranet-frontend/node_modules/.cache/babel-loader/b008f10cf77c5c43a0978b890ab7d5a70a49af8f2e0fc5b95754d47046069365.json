{"ast":null,"code":"import { defineComponent, ref, onMounted } from 'vue';\nimport FullCalendar from '@fullcalendar/vue3';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport esLocale from '@fullcalendar/core/locales/es';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport moment from 'moment';\nimport * as XLSX from 'xlsx';\nexport default defineComponent({\n  components: {\n    FullCalendar\n  },\n  setup() {\n    const calendarRef = ref(null);\n    const getCalendarTitle = () => {\n      if (calendarRef.value) {\n        const calendarApi = calendarRef.value.getApi();\n        return calendarApi.view.title;\n      }\n      return '';\n    };\n    onMounted(() => {\n      getCalendarTitle();\n    });\n    return {\n      calendarRef,\n      getCalendarTitle\n    };\n  },\n  data() {\n    return {\n      isLoading: true,\n      eventGuid: 0,\n      showModal: false,\n      showDirectorioModal: false,\n      viewMode: 'cards',\n      showToast: false,\n      toastMessage: '',\n      toastType: 'success',\n      toastIcon: 'check-circle',\n      newBirthday: {\n        nombre: '',\n        departamento: '',\n        birthday: ''\n      },\n      directorio: [],\n      searchTerm: '',\n      filterDepartamento: '',\n      calendarTitle: '',\n      departamentos: [{\n        id: '1',\n        nombre: 'Despacho superior',\n        color: '#6366f1'\n      }, {\n        id: '2',\n        nombre: 'Secretaría',\n        color: '#f59e0b'\n      }, {\n        id: '3',\n        nombre: 'Relaciones públicas',\n        color: '#10b981'\n      }, {\n        id: '4',\n        nombre: 'Administración',\n        color: '#06b6d4'\n      }, {\n        id: '5',\n        nombre: 'Recursos humanos',\n        color: '#3b82f6'\n      }, {\n        id: '6',\n        nombre: 'Análisis operativo',\n        color: '#8b5cf6'\n      }, {\n        id: '7',\n        nombre: 'Análisis estratégico',\n        color: '#ec4899'\n      }, {\n        id: '8',\n        nombre: 'Asesoría legal',\n        color: '#f97316'\n      }, {\n        id: '9',\n        nombre: 'Contact Center',\n        color: '#14b8a6'\n      }, {\n        id: '10',\n        nombre: 'Cooperación nacional e internacional',\n        color: '#ef4444'\n      }, {\n        id: '11',\n        nombre: 'Tecnología',\n        color: '#64748b'\n      }],\n      calendarOptions: {\n        plugins: [dayGridPlugin, interactionPlugin],\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'customButtons'\n        },\n        customButtons: {\n          customButtons: {\n            text: '',\n            hint: 'Acciones',\n            click: () => {}\n          }\n        },\n        views: {\n          dayGridMonth: {\n            dayHeaderContent: arg => {\n              return arg.text.charAt(0).toUpperCase() + arg.text.slice(1);\n            }\n          }\n        },\n        initialView: 'dayGridMonth',\n        locale: esLocale,\n        editable: false,\n        selectable: false,\n        selectMirror: true,\n        dayMaxEvents: 3,\n        weekends: true,\n        eventClick: this.handleEventClick,\n        eventsSet: this.handleEvents,\n        events: this.fetchEvents,\n        eventDisplay: 'block',\n        eventClassNames: 'custom-event-wrapper',\n        dayCellClassNames: arg => {\n          if (arg.isToday) {\n            return ['today-cell'];\n          }\n          return [];\n        },\n        height: 'auto',\n        contentHeight: 'auto',\n        aspectRatio: 1.35\n      },\n      currentEvents: [],\n      monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre']\n    };\n  },\n  mounted() {\n    // Simulate loading\n    setTimeout(() => {\n      this.isLoading = false;\n      // Wait for next tick to ensure calendar is rendered\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.addCustomButtons();\n        }, 100);\n      });\n    }, 500);\n  },\n  computed: {\n    filteredDirectorio() {\n      return this.directorio.filter(usuario => {\n        const matchesSearchTerm = usuario.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) || usuario.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\n        const matchesDepartamento = this.filterDepartamento ? usuario.departamento === this.filterDepartamento : true;\n        return matchesSearchTerm && matchesDepartamento;\n      });\n    }\n  },\n  methods: {\n    addCustomButtons() {\n      if (!this.$refs.calendar) {\n        console.warn('Calendar ref not available');\n        return;\n      }\n      const calendarEl = this.$refs.calendar.$el;\n      if (!calendarEl) {\n        console.warn('Calendar element not available');\n        return;\n      }\n      const toolbar = calendarEl.querySelector('.fc-toolbar-chunk:last-child');\n      if (toolbar) {\n        toolbar.innerHTML = `\n          <div class=\"btn-group\" role=\"group\">\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" id=\"addBirthdayBtn\">\n              <i class=\"fas fa-plus me-2\"></i>Agregar Cumpleaños\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"directoryBtn\">\n              <i class=\"fas fa-users me-2\"></i>Directorio\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"downloadBtn\">\n              <i class=\"fas fa-download me-2\"></i>Descargar Excel\n            </button>\n          </div>\n        `;\n        document.getElementById('addBirthdayBtn').addEventListener('click', () => {\n          this.showModal = true;\n        });\n        document.getElementById('directoryBtn').addEventListener('click', () => {\n          this.showDirectorio();\n        });\n        document.getElementById('downloadBtn').addEventListener('click', () => {\n          this.downloadExcel();\n        });\n      }\n    },\n    getInitials(name) {\n      const names = name.split(' ');\n      if (names.length >= 2) {\n        return names[0].charAt(0).toUpperCase() + names[1].charAt(0).toUpperCase();\n      }\n      return name.substring(0, 2).toUpperCase();\n    },\n    getShortName(name) {\n      const names = name.split(' ');\n      if (names.length >= 2) {\n        return names[0] + ' ' + names[1].charAt(0) + '.';\n      }\n      return name;\n    },\n    getDepartmentColor(departmentId) {\n      const dept = this.departamentos.find(d => d.id === departmentId);\n      return dept ? dept.color : '#94a3b8';\n    },\n    getDepartmentColorByName(departmentName) {\n      const dept = this.departamentos.find(d => d.nombre === departmentName);\n      return dept ? dept.color : '#94a3b8';\n    },\n    showToastNotification(message, type = 'success') {\n      this.toastMessage = message;\n      this.toastType = type;\n      this.toastIcon = type === 'success' ? 'check-circle' : 'exclamation-circle';\n      this.showToast = true;\n      setTimeout(() => {\n        this.showToast = false;\n      }, 3000);\n    },\n    handleEventClick(clickInfo) {\n      const eventEl = clickInfo.el;\n      eventEl.style.transform = 'scale(0.95)';\n      setTimeout(() => {\n        eventEl.style.transform = 'scale(1)';\n      }, 100);\n      Swal.fire({\n        title: '¿Eliminar cumpleaños?',\n        html: `\n          <div class=\"text-center\">\n            <div class=\"mb-3\">\n              <div class=\"user-avatar-large mx-auto mb-2\">\n                ${this.getInitials(clickInfo.event.title)}\n              </div>\n              <h5>${clickInfo.event.title}</h5>\n              <p class=\"text-muted\">${clickInfo.event.extendedProps.departamento}</p>\n            </div>\n          </div>\n        `,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#ef4444',\n        cancelButtonColor: '#6b7280',\n        confirmButtonText: 'Sí, eliminar',\n        cancelButtonText: 'Cancelar',\n        customClass: {\n          popup: 'modern-swal'\n        }\n      }).then(result => {\n        if (result.isConfirmed) {\n          axios.put(`http://localhost:8000/api/birthdays/${clickInfo.event.id}`, {\n            deleted: true\n          }).then(() => {\n            clickInfo.event.remove();\n            this.showToastNotification('Cumpleaños eliminado correctamente');\n          }).catch(() => {\n            this.showToastNotification('Error al eliminar el cumpleaños', 'error');\n          });\n        }\n      });\n    },\n    handleEvents(events) {\n      this.currentEvents = events;\n      this.calendarTitle = this.getCalendarTitle();\n    },\n    fetchEvents(fetchInfo, successCallback, failureCallback) {\n      axios.get('http://localhost:8000/api/birthdays').then(response => {\n        const events = response.data.map(event => ({\n          id: event.id,\n          title: event.nombre,\n          start: event.birthday,\n          allDay: true,\n          backgroundColor: this.getDepartmentColorByName(event.departamento),\n          borderColor: this.getDepartmentColorByName(event.departamento),\n          extendedProps: {\n            departamento: event.departamento\n          }\n        }));\n        successCallback(events);\n      }).catch(error => {\n        console.error('Error fetching events:', error);\n        if (typeof failureCallback === 'function') {\n          failureCallback(error);\n        }\n      });\n    },\n    createEventId() {\n      return String(this.eventGuid++);\n    },\n    addBirthday() {\n      const formattedBirthday = moment(this.newBirthday.birthday).format('YYYY-MM-DD');\n      const birthdayData = {\n        ...this.newBirthday,\n        birthday: formattedBirthday\n      };\n      axios.post('http://localhost:8000/api/addBirthday', birthdayData).then(() => {\n        this.showModal = false;\n        this.newBirthday = {\n          nombre: '',\n          departamento: '',\n          birthday: ''\n        };\n        this.$refs.calendar.getApi().refetchEvents();\n        this.showToastNotification('Cumpleaños agregado correctamente');\n      }).catch(error => {\n        this.showToastNotification('Error al agregar el cumpleaños', 'error');\n      });\n    },\n    downloadExcel() {\n      const events = this.currentEvents;\n      const currentDate = this.$refs.calendar.getApi().getDate();\n      const month = moment(currentDate).format('M');\n      const monthName = this.monthNames[month - 1];\n      const filteredEvents = events.filter(event => moment(event.start).format('M') === month);\n      if (filteredEvents.length === 0) {\n        this.showToastNotification('No hay cumpleaños para exportar este mes', 'error');\n        return;\n      }\n      const worksheet = XLSX.utils.json_to_sheet(filteredEvents.map(event => ({\n        Nombre: event.title,\n        Departamento: event.extendedProps.departamento,\n        Cumpleaños: moment(event.start).format('DD/MM/YYYY')\n      })));\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Cumpleaños');\n      XLSX.writeFile(workbook, `Cumpleaños_${monthName}_2025.xlsx`);\n      this.showToastNotification('Excel descargado correctamente');\n    },\n    showDirectorio() {\n      axios.get('http://localhost:8000/api/directorio_usuarios').then(response => {\n        this.directorio = response.data.data;\n        this.showDirectorioModal = true;\n      }).catch(error => {\n        console.error('Error fetching directorio:', error);\n        this.showToastNotification('Error al cargar el directorio', 'error');\n      });\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","ref","onMounted","FullCalendar","dayGridPlugin","interactionPlugin","esLocale","axios","Swal","moment","XLSX","components","setup","calendarRef","getCalendarTitle","value","calendarApi","getApi","view","title","data","isLoading","eventGuid","showModal","showDirectorioModal","viewMode","showToast","toastMessage","toastType","toastIcon","newBirthday","nombre","departamento","birthday","directorio","searchTerm","filterDepartamento","calendarTitle","departamentos","id","color","calendarOptions","plugins","headerToolbar","left","center","right","customButtons","text","hint","click","views","dayGridMonth","dayHeaderContent","arg","charAt","toUpperCase","slice","initialView","locale","editable","selectable","selectMirror","dayMaxEvents","weekends","eventClick","handleEventClick","eventsSet","handleEvents","events","fetchEvents","eventDisplay","eventClassNames","dayCellClassNames","isToday","height","contentHeight","aspectRatio","currentEvents","monthNames","mounted","setTimeout","$nextTick","addCustomButtons","computed","filteredDirectorio","filter","usuario","matchesSearchTerm","toLowerCase","includes","correo_electronico","matchesDepartamento","methods","$refs","calendar","console","warn","calendarEl","$el","toolbar","querySelector","innerHTML","document","getElementById","addEventListener","showDirectorio","downloadExcel","getInitials","name","names","split","length","substring","getShortName","getDepartmentColor","departmentId","dept","find","d","getDepartmentColorByName","departmentName","showToastNotification","message","type","clickInfo","eventEl","el","style","transform","fire","html","event","extendedProps","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","customClass","popup","then","result","isConfirmed","put","deleted","remove","catch","fetchInfo","successCallback","failureCallback","get","response","map","start","allDay","backgroundColor","borderColor","error","createEventId","String","addBirthday","formattedBirthday","format","birthdayData","post","refetchEvents","currentDate","getDate","month","monthName","filteredEvents","worksheet","utils","json_to_sheet","Nombre","Departamento","Cumpleaños","workbook","book_new","book_append_sheet","writeFile"],"sources":["C:\\xampp\\htdocs\\intranet\\intranet-frontend\\src\\components\\Calendario_colaboradores.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid d-flex p-0\">\r\n    <div class=\"main-content flex-grow-1 p-4\">\r\n      <!-- Loading State -->\r\n      <div v-if=\"isLoading\" class=\"calendar-skeleton\">\r\n        <div class=\"skeleton-header mb-4\">\r\n          <div class=\"skeleton-box\" style=\"width: 200px; height: 40px;\"></div>\r\n          <div class=\"skeleton-box\" style=\"width: 250px; height: 36px;\"></div>\r\n          <div class=\"skeleton-box\" style=\"width: 300px; height: 36px;\"></div>\r\n        </div>\r\n        <div class=\"skeleton-calendar\">\r\n          <div v-for=\"i in 35\" :key=\"i\" class=\"skeleton-day\">\r\n            <div class=\"skeleton-box\" style=\"width: 100%; height: 80px;\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Calendar Component -->\r\n      <div v-else class=\"calendar-wrapper\">\r\n        <FullCalendar\r\n            ref=\"calendar\"\r\n            :options=\"calendarOptions\"\r\n        >\r\n          <template v-slot:eventContent=\"arg\">\r\n            <div class=\"custom-event\" :title=\"`${arg.event.title} - ${arg.event.extendedProps.departamento}`\">\r\n              <div class=\"event-content\">\r\n                <span class=\"event-initials\">{{ getInitials(arg.event.title) }}</span>\r\n                <span class=\"event-name\">{{ getShortName(arg.event.title) }}</span>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </FullCalendar>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-if=\"!isLoading && currentEvents.length === 0\" class=\"empty-state\">\r\n        <div class=\"empty-icon\">\r\n          <font-awesome-icon :icon=\"['fas', 'birthday-cake']\" />\r\n        </div>\r\n        <h5>No hay cumpleaños este mes</h5>\r\n        <p class=\"text-muted\">¡Sé el primero en agregar un cumpleaños!</p>\r\n        <button class=\"btn btn-primary btn-sm\" @click=\"showModal = true\">\r\n          <font-awesome-icon :icon=\"['fas', 'plus']\" class=\"me-2\" />\r\n          Agregar Cumpleaños\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Modal para agregar cumpleaños -->\r\n      <transition name=\"modal-fade\">\r\n        <div v-if=\"showModal\" class=\"modal-overlay\" @click.self=\"showModal = false\">\r\n          <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content modern-modal\">\r\n              <div class=\"modal-header border-0\">\r\n                <h5 class=\"modal-title\">\r\n                  <font-awesome-icon :icon=\"['fas', 'birthday-cake']\" class=\"me-2 text-primary\" />\r\n                  Agregar Cumpleaños\r\n                </h5>\r\n                <button type=\"button\" class=\"btn-close\" @click=\"showModal = false\"></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <form @submit.prevent=\"addBirthday\">\r\n                  <div class=\"mb-4\">\r\n                    <label for=\"nombre\" class=\"form-label fw-medium\">\r\n                      <font-awesome-icon :icon=\"['fas', 'user']\" class=\"me-2 text-muted\" />\r\n                      Nombre\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        class=\"form-control modern-input\"\r\n                        id=\"nombre\"\r\n                        v-model=\"newBirthday.nombre\"\r\n                        placeholder=\"Ingrese el nombre completo\"\r\n                        required\r\n                    >\r\n                  </div>\r\n\r\n                  <div class=\"mb-4\">\r\n                    <label for=\"departamento\" class=\"form-label fw-medium\">\r\n                      <font-awesome-icon :icon=\"['fas', 'building']\" class=\"me-2 text-muted\" />\r\n                      Departamento\r\n                    </label>\r\n                    <div class=\"select-wrapper\">\r\n                      <select\r\n                          name=\"departamento\"\r\n                          v-model=\"newBirthday.departamento\"\r\n                          id=\"departamento\"\r\n                          class=\"form-control modern-select\"\r\n                          required\r\n                      >\r\n                        <option value=\"\">Selecciona un departamento</option>\r\n                        <option\r\n                            v-for=\"dept in departamentos\"\r\n                            :key=\"dept.id\"\r\n                            :value=\"dept.id\"\r\n                        >\r\n                          <span class=\"dept-option\">\r\n                            <span class=\"dept-color\" :style=\"`background-color: ${dept.color}`\"></span>\r\n                            {{ dept.nombre }}\r\n                          </span>\r\n                        </option>\r\n                      </select>\r\n                      <div\r\n                          v-if=\"newBirthday.departamento\"\r\n                          class=\"color-preview\"\r\n                          :style=\"`background-color: ${getDepartmentColor(newBirthday.departamento)}`\"\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"mb-4\">\r\n                    <label for=\"birthday\" class=\"form-label fw-medium\">\r\n                      <font-awesome-icon :icon=\"['fas', 'calendar-alt']\" class=\"me-2 text-muted\" />\r\n                      Fecha de Cumpleaños\r\n                    </label>\r\n                    <input\r\n                        type=\"date\"\r\n                        class=\"form-control modern-input\"\r\n                        id=\"birthday\"\r\n                        v-model=\"newBirthday.birthday\"\r\n                        required\r\n                    >\r\n                  </div>\r\n\r\n                  <div class=\"d-flex justify-content-end gap-2 mt-4\">\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"showModal = false\">\r\n                      Cancelar\r\n                    </button>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">\r\n                      <font-awesome-icon :icon=\"['fas', 'check']\" class=\"me-2\" />\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n\r\n      <!-- Modal para directorio de colaboradores -->\r\n      <transition name=\"modal-fade\">\r\n        <div v-if=\"showDirectorioModal\" class=\"modal-overlay\" @click.self=\"showDirectorioModal = false\">\r\n          <div class=\"modal-dialog modal-xl modal-dialog-centered\">\r\n            <div class=\"modal-content modern-modal\">\r\n              <div class=\"modal-header border-0\">\r\n                <h5 class=\"modal-title\">\r\n                  <font-awesome-icon :icon=\"['fas', 'users']\" class=\"me-2 text-primary\" />\r\n                  Directorio de Colaboradores\r\n                </h5>\r\n                <button type=\"button\" class=\"btn-close\" @click=\"showDirectorioModal = false\"></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <!-- Controls -->\r\n                <div class=\"directory-controls mb-4\">\r\n                  <div class=\"row g-3\">\r\n                    <div class=\"col-md-6\">\r\n                      <div class=\"search-box\">\r\n                        <font-awesome-icon :icon=\"['fas', 'search']\" class=\"search-icon\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            class=\"form-control modern-input ps-5\"\r\n                            v-model=\"searchTerm\"\r\n                            placeholder=\"Buscar por nombre o correo...\"\r\n                        >\r\n                        <span v-if=\"searchTerm\" class=\"results-count\">\r\n                          {{ filteredDirectorio.length }} resultados\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <select class=\"form-control modern-select\" v-model=\"filterDepartamento\">\r\n                        <option value=\"\">Todos los Departamentos</option>\r\n                        <option v-for=\"dept in departamentos\" :key=\"dept.id\" :value=\"dept.nombre\">\r\n                          {{ dept.nombre }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-md-2\">\r\n                      <div class=\"btn-group w-100\" role=\"group\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-outline-secondary\"\r\n                            :class=\"{ active: viewMode === 'cards' }\"\r\n                            @click=\"viewMode = 'cards'\"\r\n                            title=\"Vista de tarjetas\"\r\n                        >\r\n                          <font-awesome-icon :icon=\"['fas', 'th-large']\" />\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-outline-secondary\"\r\n                            :class=\"{ active: viewMode === 'table' }\"\r\n                            @click=\"viewMode = 'table'\"\r\n                            title=\"Vista de tabla\"\r\n                        >\r\n                          <font-awesome-icon :icon=\"['fas', 'table']\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Department Filters -->\r\n                  <div v-if=\"filterDepartamento\" class=\"filter-chips mt-3\">\r\n                    <span class=\"filter-chip\">\r\n                      {{ filterDepartamento }}\r\n                      <button @click=\"filterDepartamento = ''\" class=\"chip-close\">\r\n                        <font-awesome-icon :icon=\"['fas', 'times']\" />\r\n                      </button>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Directory Content -->\r\n                <div class=\"directory-content\">\r\n                  <!-- Cards View -->\r\n                  <div v-if=\"viewMode === 'cards'\" class=\"row g-3\">\r\n                    <div\r\n                        v-for=\"usuario in filteredDirectorio\"\r\n                        :key=\"usuario.correo_electronico\"\r\n                        class=\"col-md-6 col-lg-4\"\r\n                    >\r\n                      <div class=\"user-card\">\r\n                        <div class=\"user-avatar\">\r\n                          {{ getInitials(usuario.nombre) }}\r\n                        </div>\r\n                        <div class=\"user-info\">\r\n                          <h6 class=\"user-name\">{{ usuario.nombre }}</h6>\r\n                          <p class=\"user-email\">\r\n                            <font-awesome-icon :icon=\"['fas', 'envelope']\" class=\"me-1 text-muted\" />\r\n                            {{ usuario.correo_electronico }}\r\n                          </p>\r\n                          <div class=\"user-meta\">\r\n                            <span class=\"department-badge\" :style=\"`background-color: ${getDepartmentColorByName(usuario.departamento)}20; color: ${getDepartmentColorByName(usuario.departamento)}`\">\r\n                              <font-awesome-icon :icon=\"['fas', 'building']\" class=\"me-1\" />\r\n                              {{ usuario.departamento }}\r\n                            </span>\r\n                            <span class=\"extension\">\r\n                              <font-awesome-icon :icon=\"['fas', 'phone']\" class=\"me-1 text-muted\" />\r\n                              Ext. {{ usuario.extension }}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Table View -->\r\n                  <div v-else class=\"table-responsive modern-table\">\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                      <tr>\r\n                        <th>Colaborador</th>\r\n                        <th>Correo Electrónico</th>\r\n                        <th>Departamento</th>\r\n                        <th>Extensión</th>\r\n                      </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                      <tr v-for=\"usuario in filteredDirectorio\" :key=\"usuario.correo_electronico\">\r\n                        <td>\r\n                          <div class=\"d-flex align-items-center\">\r\n                            <div class=\"user-avatar-small me-2\">\r\n                              {{ getInitials(usuario.nombre) }}\r\n                            </div>\r\n                            {{ usuario.nombre }}\r\n                          </div>\r\n                        </td>\r\n                        <td>{{ usuario.correo_electronico }}</td>\r\n                        <td>\r\n                            <span class=\"department-badge-small\" :style=\"`background-color: ${getDepartmentColorByName(usuario.departamento)}20; color: ${getDepartmentColorByName(usuario.departamento)}`\">\r\n                              {{ usuario.departamento }}\r\n                            </span>\r\n                        </td>\r\n                        <td>{{ usuario.extension }}</td>\r\n                      </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n\r\n                  <!-- Empty State -->\r\n                  <div v-if=\"filteredDirectorio.length === 0\" class=\"text-center py-5\">\r\n                    <font-awesome-icon :icon=\"['fas', 'search']\" class=\"text-muted mb-3\" style=\"font-size: 3rem;\" />\r\n                    <h5>No se encontraron colaboradores</h5>\r\n                    <p class=\"text-muted\">Intenta ajustar los filtros de búsqueda</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n\r\n      <!-- Toast Notifications -->\r\n      <transition name=\"toast\">\r\n        <div v-if=\"showToast\" class=\"toast-notification\" :class=\"toastType\">\r\n          <font-awesome-icon :icon=\"['fas', toastIcon]\" class=\"me-2\" />\r\n          {{ toastMessage }}\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from 'vue'\r\nimport FullCalendar from '@fullcalendar/vue3'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport esLocale from '@fullcalendar/core/locales/es'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport moment from 'moment'\r\nimport * as XLSX from 'xlsx'\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    FullCalendar,\r\n  },\r\n  setup() {\r\n    const calendarRef = ref(null);\r\n\r\n    const getCalendarTitle = () => {\r\n      if (calendarRef.value) {\r\n        const calendarApi = calendarRef.value.getApi();\r\n        return calendarApi.view.title;\r\n      }\r\n      return '';\r\n    };\r\n\r\n    onMounted(() => {\r\n      getCalendarTitle();\r\n    });\r\n\r\n    return { calendarRef, getCalendarTitle };\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      eventGuid: 0,\r\n      showModal: false,\r\n      showDirectorioModal: false,\r\n      viewMode: 'cards',\r\n      showToast: false,\r\n      toastMessage: '',\r\n      toastType: 'success',\r\n      toastIcon: 'check-circle',\r\n      newBirthday: {\r\n        nombre: '',\r\n        departamento: '',\r\n        birthday: ''\r\n      },\r\n      directorio: [],\r\n      searchTerm: '',\r\n      filterDepartamento: '',\r\n      calendarTitle: '',\r\n      departamentos: [\r\n        { id: '1', nombre: 'Despacho superior', color: '#6366f1' },\r\n        { id: '2', nombre: 'Secretaría', color: '#f59e0b' },\r\n        { id: '3', nombre: 'Relaciones públicas', color: '#10b981' },\r\n        { id: '4', nombre: 'Administración', color: '#06b6d4' },\r\n        { id: '5', nombre: 'Recursos humanos', color: '#3b82f6' },\r\n        { id: '6', nombre: 'Análisis operativo', color: '#8b5cf6' },\r\n        { id: '7', nombre: 'Análisis estratégico', color: '#ec4899' },\r\n        { id: '8', nombre: 'Asesoría legal', color: '#f97316' },\r\n        { id: '9', nombre: 'Contact Center', color: '#14b8a6' },\r\n        { id: '10', nombre: 'Cooperación nacional e internacional', color: '#ef4444' },\r\n        { id: '11', nombre: 'Tecnología', color: '#64748b' }\r\n      ],\r\n      calendarOptions: {\r\n        plugins: [\r\n          dayGridPlugin,\r\n          interactionPlugin\r\n        ],\r\n        headerToolbar: {\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: 'customButtons'\r\n        },\r\n        customButtons: {\r\n          customButtons: {\r\n            text: '',\r\n            hint: 'Acciones',\r\n            click: () => {}\r\n          }\r\n        },\r\n        views: {\r\n          dayGridMonth: {\r\n            dayHeaderContent: (arg) => {\r\n              return arg.text.charAt(0).toUpperCase() + arg.text.slice(1);\r\n            }\r\n          }\r\n        },\r\n        initialView: 'dayGridMonth',\r\n        locale: esLocale,\r\n        editable: false,\r\n        selectable: false,\r\n        selectMirror: true,\r\n        dayMaxEvents: 3,\r\n        weekends: true,\r\n        eventClick: this.handleEventClick,\r\n        eventsSet: this.handleEvents,\r\n        events: this.fetchEvents,\r\n        eventDisplay: 'block',\r\n        eventClassNames: 'custom-event-wrapper',\r\n        dayCellClassNames: (arg) => {\r\n          if (arg.isToday) {\r\n            return ['today-cell'];\r\n          }\r\n          return [];\r\n        },\r\n        height: 'auto',\r\n        contentHeight: 'auto',\r\n        aspectRatio: 1.35\r\n      },\r\n      currentEvents: [],\r\n      monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n    }\r\n  },\r\n  mounted() {\r\n    // Simulate loading\r\n    setTimeout(() => {\r\n      this.isLoading = false;\r\n      // Wait for next tick to ensure calendar is rendered\r\n      this.$nextTick(() => {\r\n        setTimeout(() => {\r\n          this.addCustomButtons();\r\n        }, 100);\r\n      });\r\n    }, 500);\r\n  },\r\n  computed: {\r\n    filteredDirectorio() {\r\n      return this.directorio.filter(usuario => {\r\n        const matchesSearchTerm = usuario.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\r\n            usuario.correo_electronico.toLowerCase().includes(this.searchTerm.toLowerCase());\r\n        const matchesDepartamento = this.filterDepartamento ? usuario.departamento === this.filterDepartamento : true;\r\n        return matchesSearchTerm && matchesDepartamento;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    addCustomButtons() {\r\n      if (!this.$refs.calendar) {\r\n        console.warn('Calendar ref not available');\r\n        return;\r\n      }\r\n\r\n      const calendarEl = this.$refs.calendar.$el;\r\n      if (!calendarEl) {\r\n        console.warn('Calendar element not available');\r\n        return;\r\n      }\r\n\r\n      const toolbar = calendarEl.querySelector('.fc-toolbar-chunk:last-child');\r\n\r\n      if (toolbar) {\r\n        toolbar.innerHTML = `\r\n          <div class=\"btn-group\" role=\"group\">\r\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" id=\"addBirthdayBtn\">\r\n              <i class=\"fas fa-plus me-2\"></i>Agregar Cumpleaños\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"directoryBtn\">\r\n              <i class=\"fas fa-users me-2\"></i>Directorio\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" id=\"downloadBtn\">\r\n              <i class=\"fas fa-download me-2\"></i>Descargar Excel\r\n            </button>\r\n          </div>\r\n        `;\r\n\r\n        document.getElementById('addBirthdayBtn').addEventListener('click', () => {\r\n          this.showModal = true;\r\n        });\r\n\r\n        document.getElementById('directoryBtn').addEventListener('click', () => {\r\n          this.showDirectorio();\r\n        });\r\n\r\n        document.getElementById('downloadBtn').addEventListener('click', () => {\r\n          this.downloadExcel();\r\n        });\r\n      }\r\n    },\r\n    getInitials(name) {\r\n      const names = name.split(' ');\r\n      if (names.length >= 2) {\r\n        return names[0].charAt(0).toUpperCase() + names[1].charAt(0).toUpperCase();\r\n      }\r\n      return name.substring(0, 2).toUpperCase();\r\n    },\r\n    getShortName(name) {\r\n      const names = name.split(' ');\r\n      if (names.length >= 2) {\r\n        return names[0] + ' ' + names[1].charAt(0) + '.';\r\n      }\r\n      return name;\r\n    },\r\n    getDepartmentColor(departmentId) {\r\n      const dept = this.departamentos.find(d => d.id === departmentId);\r\n      return dept ? dept.color : '#94a3b8';\r\n    },\r\n    getDepartmentColorByName(departmentName) {\r\n      const dept = this.departamentos.find(d => d.nombre === departmentName);\r\n      return dept ? dept.color : '#94a3b8';\r\n    },\r\n    showToastNotification(message, type = 'success') {\r\n      this.toastMessage = message;\r\n      this.toastType = type;\r\n      this.toastIcon = type === 'success' ? 'check-circle' : 'exclamation-circle';\r\n      this.showToast = true;\r\n\r\n      setTimeout(() => {\r\n        this.showToast = false;\r\n      }, 3000);\r\n    },\r\n    handleEventClick(clickInfo) {\r\n      const eventEl = clickInfo.el;\r\n      eventEl.style.transform = 'scale(0.95)';\r\n      setTimeout(() => {\r\n        eventEl.style.transform = 'scale(1)';\r\n      }, 100);\r\n\r\n      Swal.fire({\r\n        title: '¿Eliminar cumpleaños?',\r\n        html: `\r\n          <div class=\"text-center\">\r\n            <div class=\"mb-3\">\r\n              <div class=\"user-avatar-large mx-auto mb-2\">\r\n                ${this.getInitials(clickInfo.event.title)}\r\n              </div>\r\n              <h5>${clickInfo.event.title}</h5>\r\n              <p class=\"text-muted\">${clickInfo.event.extendedProps.departamento}</p>\r\n            </div>\r\n          </div>\r\n        `,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#ef4444',\r\n        cancelButtonColor: '#6b7280',\r\n        confirmButtonText: 'Sí, eliminar',\r\n        cancelButtonText: 'Cancelar',\r\n        customClass: {\r\n          popup: 'modern-swal'\r\n        }\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios.put(`http://localhost:8000/api/birthdays/${clickInfo.event.id}`, { deleted: true })\r\n              .then(() => {\r\n                clickInfo.event.remove();\r\n                this.showToastNotification('Cumpleaños eliminado correctamente');\r\n              })\r\n              .catch(() => {\r\n                this.showToastNotification('Error al eliminar el cumpleaños', 'error');\r\n              });\r\n        }\r\n      });\r\n    },\r\n    handleEvents(events) {\r\n      this.currentEvents = events;\r\n      this.calendarTitle = this.getCalendarTitle();\r\n    },\r\n    fetchEvents(fetchInfo, successCallback, failureCallback) {\r\n      axios.get('http://localhost:8000/api/birthdays')\r\n          .then(response => {\r\n            const events = response.data.map(event => ({\r\n              id: event.id,\r\n              title: event.nombre,\r\n              start: event.birthday,\r\n              allDay: true,\r\n              backgroundColor: this.getDepartmentColorByName(event.departamento),\r\n              borderColor: this.getDepartmentColorByName(event.departamento),\r\n              extendedProps: {\r\n                departamento: event.departamento\r\n              }\r\n            }));\r\n            successCallback(events);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching events:', error);\r\n            if (typeof failureCallback === 'function') {\r\n              failureCallback(error);\r\n            }\r\n          });\r\n    },\r\n    createEventId() {\r\n      return String(this.eventGuid++)\r\n    },\r\n    addBirthday() {\r\n      const formattedBirthday = moment(this.newBirthday.birthday).format('YYYY-MM-DD');\r\n      const birthdayData = {\r\n        ...this.newBirthday,\r\n        birthday: formattedBirthday\r\n      };\r\n\r\n      axios.post('http://localhost:8000/api/addBirthday', birthdayData)\r\n          .then(() => {\r\n            this.showModal = false;\r\n            this.newBirthday = { nombre: '', departamento: '', birthday: '' };\r\n            this.$refs.calendar.getApi().refetchEvents();\r\n            this.showToastNotification('Cumpleaños agregado correctamente');\r\n          })\r\n          .catch(error => {\r\n            this.showToastNotification('Error al agregar el cumpleaños', 'error');\r\n          });\r\n    },\r\n    downloadExcel() {\r\n      const events = this.currentEvents;\r\n      const currentDate = this.$refs.calendar.getApi().getDate();\r\n      const month = moment(currentDate).format('M');\r\n      const monthName = this.monthNames[month - 1];\r\n\r\n      const filteredEvents = events.filter(event => moment(event.start).format('M') === month);\r\n\r\n      if (filteredEvents.length === 0) {\r\n        this.showToastNotification('No hay cumpleaños para exportar este mes', 'error');\r\n        return;\r\n      }\r\n\r\n      const worksheet = XLSX.utils.json_to_sheet(filteredEvents.map(event => ({\r\n        Nombre: event.title,\r\n        Departamento: event.extendedProps.departamento,\r\n        Cumpleaños: moment(event.start).format('DD/MM/YYYY')\r\n      })));\r\n\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Cumpleaños');\r\n      XLSX.writeFile(workbook, `Cumpleaños_${monthName}_2025.xlsx`);\r\n\r\n      this.showToastNotification('Excel descargado correctamente');\r\n    },\r\n    showDirectorio() {\r\n      axios.get('http://localhost:8000/api/directorio_usuarios')\r\n          .then(response => {\r\n            this.directorio = response.data.data;\r\n            this.showDirectorioModal = true;\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching directorio:', error);\r\n            this.showToastNotification('Error al cargar el directorio', 'error');\r\n          });\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Calendar Wrapper and General Styles */\r\n.container-fluid {\r\n  /*min-height: calc(100vh - 120px);  Adjust based on header/footer height */\r\n  display: flex;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.main-content {\r\n  flex-grow: 1;       /* si quieres que ocupe el ancho, pero no fijes altura */\r\n  /* elimina estas dos: */\r\n  /* max-height: calc(100vh - 120px); */\r\n  /* overflow-y: auto; */\r\n  overflow: visible;\r\n}\r\n\r\n.calendar-wrapper {\r\n  max-height: none !important;\r\n  height: auto !important;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  padding: 24px;\r\n}\r\n\r\n/* Calendar Customization */\r\n:deep(.fc) {\r\n  font-family: inherit;\r\n  /*height: 100%;\r\n  max-height: calc(100vh - 200px);*/\r\n}\r\n\r\n:deep(.fc-toolbar) {\r\n  margin-bottom: 24px;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n}\r\n\r\n:deep(.fc-toolbar-title) {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: #1e293b;\r\n}\r\n\r\n:deep(.fc-button) {\r\n  background-color: #f1f5f9;\r\n  border: 1px solid #e2e8f0;\r\n  color: #475569;\r\n  font-weight: 500;\r\n  padding: 6px 16px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n:deep(.fc-button:hover) {\r\n  background-color: #e2e8f0;\r\n  border-color: #cbd5e1;\r\n}\r\n\r\n:deep(.fc-button-active) {\r\n  background-color: #3b82f6 !important;\r\n  border-color: #3b82f6 !important;\r\n  color: white !important;\r\n}\r\n\r\n:deep(.fc-today-button) {\r\n  background-color: #3b82f6;\r\n  border-color: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n:deep(.fc-today-button:hover) {\r\n  background-color: #2563eb;\r\n  border-color: #2563eb;\r\n}\r\n\r\n/* Calendar Grid */\r\n:deep(.fc-daygrid-day) {\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n:deep(.fc-daygrid-day:hover) {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n:deep(.fc-daygrid-day-number) {\r\n  font-weight: 500;\r\n  color: #64748b;\r\n  padding: 8px;\r\n}\r\n\r\n:deep(.today-cell) {\r\n  background-color: #eff6ff !important;\r\n}\r\n\r\n:deep(.today-cell .fc-daygrid-day-number) {\r\n  color: #3b82f6;\r\n  font-weight: 700;\r\n}\r\n\r\n:deep(.fc-day-today) {\r\n  background-color: #eff6ff !important;\r\n}\r\n\r\n/* Custom Event Styles */\r\n:deep(.custom-event-wrapper) {\r\n  margin: 2px !important;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n:deep(.custom-event-wrapper:hover) {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.custom-event {\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.event-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.event-initials {\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.625rem;\r\n  font-weight: 600;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.event-name {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Loading Skeleton */\r\n.calendar-skeleton {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.skeleton-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.skeleton-calendar {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 8px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.skeleton-day {\r\n  aspect-ratio: 1;\r\n}\r\n\r\n.skeleton-box {\r\n  background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 8px;\r\n}\r\n\r\n@keyframes loading {\r\n  0% { background-position: 200% 0; }\r\n  100% { background-position: -200% 0; }\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 4rem;\r\n  color: #e2e8f0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.empty-state h5 {\r\n  color: #475569;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n/* Modern Modal Styles */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.modal-dialog {\r\n  position: relative;\r\n  width: auto;\r\n  margin: 0.5rem;\r\n  pointer-events: none;\r\n}\r\n\r\n.modal-dialog-centered {\r\n  display: flex;\r\n  align-items: center;\r\n  min-height: calc(100% - 1rem);\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  pointer-events: auto;\r\n  background-color: #fff;\r\n  background-clip: padding-box;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n  border-radius: 16px;\r\n  outline: 0;\r\n}\r\n\r\n.modal-xl {\r\n  max-width: 1140px;\r\n}\r\n\r\n@media (min-width: 576px) {\r\n  .modal-dialog {\r\n    max-width: 500px;\r\n    margin: 1.75rem auto;\r\n  }\r\n\r\n  .modal-xl {\r\n    max-width: 1140px;\r\n  }\r\n}\r\n\r\n.modern-modal {\r\n  border: none;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.modern-modal .modal-header {\r\n  padding: 24px 24px 16px;\r\n  background-color: #fff;\r\n  border-top-left-radius: 16px;\r\n  border-top-right-radius: 16px;\r\n}\r\n\r\n.modern-modal .modal-body {\r\n  padding: 0 24px 24px;\r\n  max-height: calc(90vh - 100px);\r\n  overflow-y: auto;\r\n}\r\n\r\n.modern-input {\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 10px 16px;\r\n  font-size: 0.95rem;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.modern-input:focus {\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.modern-select {\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 10px 16px;\r\n  font-size: 0.95rem;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n}\r\n\r\n.modern-select:focus {\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.select-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.color-preview {\r\n  position: absolute;\r\n  right: 40px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* Directory Modal Styles */\r\n.directory-controls {\r\n  border-bottom: 1px solid #e2e8f0;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.search-box {\r\n  position: relative;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 16px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #94a3b8;\r\n}\r\n\r\n.results-count {\r\n  position: absolute;\r\n  right: 16px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 0.875rem;\r\n  color: #64748b;\r\n}\r\n\r\n.filter-chips {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 12px;\r\n  background-color: #eff6ff;\r\n  color: #3b82f6;\r\n  border-radius: 20px;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.chip-close {\r\n  background: none;\r\n  border: none;\r\n  padding: 0;\r\n  color: #3b82f6;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.chip-close:hover {\r\n  opacity: 0.7;\r\n}\r\n\r\n/* User Cards */\r\n.user-card {\r\n  background: white;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  transition: all 0.2s;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.user-card:hover {\r\n  border-color: #cbd5e1;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.user-avatar {\r\n  width: 56px;\r\n  height: 56px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 1.125rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-avatar-small {\r\n  width: 32px;\r\n  height: 32px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.user-avatar-large {\r\n  width: 80px;\r\n  height: 80px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.user-info {\r\n  flex-grow: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.user-name {\r\n  margin: 0 0 4px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #1e293b;\r\n}\r\n\r\n.user-email {\r\n  margin: 0 0 8px;\r\n  font-size: 0.875rem;\r\n  color: #64748b;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.user-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.department-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 4px 10px;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.department-badge-small {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 4px 10px;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.extension {\r\n  font-size: 0.875rem;\r\n  color: #64748b;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n/* Modern Table */\r\n.modern-table {\r\n  margin-top: 20px;\r\n}\r\n\r\n.modern-table table {\r\n  border: none;\r\n}\r\n\r\n.modern-table thead tr {\r\n  border-bottom: 2px solid #e2e8f0;\r\n}\r\n\r\n.modern-table th {\r\n  font-weight: 600;\r\n  color: #475569;\r\n  padding: 12px 16px;\r\n  font-size: 0.875rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.05em;\r\n}\r\n\r\n.modern-table td {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #f1f5f9;\r\n}\r\n\r\n.modern-table tbody tr:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n/* Toast Notifications */\r\n.toast-notification {\r\n  position: fixed;\r\n  bottom: 24px;\r\n  right: 24px;\r\n  background: white;\r\n  padding: 16px 24px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.95rem;\r\n  z-index: 1060;\r\n}\r\n\r\n.toast-notification.success {\r\n  border-left: 4px solid #10b981;\r\n  color: #059669;\r\n}\r\n\r\n.toast-notification.error {\r\n  border-left: 4px solid #ef4444;\r\n  color: #dc2626;\r\n}\r\n\r\n/* Animations */\r\n.modal-fade-enter-active,\r\n.modal-fade-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-fade-enter-from,\r\n.modal-fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.modal-fade-enter-active .modal-dialog,\r\n.modal-fade-leave-active .modal-dialog {\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.modal-fade-enter-from .modal-dialog {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.modal-fade-leave-to .modal-dialog {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.toast-enter-active,\r\n.toast-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.toast-enter-from {\r\n  transform: translateX(100%);\r\n  opacity: 0;\r\n}\r\n\r\n.toast-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n/* Custom Button Group */\r\n.btn-group .btn {\r\n  border-radius: 0;\r\n}\r\n\r\n.btn-group .btn:first-child {\r\n  border-radius: 6px 0 0 6px;\r\n}\r\n\r\n.btn-group .btn:last-child {\r\n  border-radius: 0 6px 6px 0;\r\n}\r\n\r\n.btn-outline-primary {\r\n  color: #3b82f6;\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.btn-outline-primary:hover {\r\n  background-color: #3b82f6;\r\n  border-color: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.btn-outline-secondary {\r\n  color: #64748b;\r\n  border-color: #cbd5e1;\r\n}\r\n\r\n.btn-outline-secondary:hover {\r\n  background-color: #64748b;\r\n  border-color: #64748b;\r\n  color: white;\r\n}\r\n\r\n.btn-outline-secondary.active {\r\n  background-color: #64748b;\r\n  border-color: #64748b;\r\n  color: white;\r\n}\r\n\r\n/* SweetAlert Customization */\r\n:deep(.modern-swal) {\r\n  border-radius: 16px !important;\r\n  padding: 32px !important;\r\n}\r\n\r\n:deep(.swal2-title) {\r\n  font-size: 1.25rem !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n:deep(.swal2-html-container) {\r\n  font-size: 0.95rem !important;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  .calendar-wrapper {\r\n    padding: 16px;\r\n  }\r\n\r\n  :deep(.fc-toolbar) {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  :deep(.fc-toolbar-chunk) {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 4px 0;\r\n  }\r\n\r\n  .user-card {\r\n    flex-direction: column;\r\n    text-align: center;\r\n  }\r\n\r\n  .user-meta {\r\n    justify-content: center;\r\n  }\r\n\r\n  .modal-dialog {\r\n    margin: 16px;\r\n  }\r\n\r\n  .btn-group {\r\n    flex-direction: column;\r\n    width: 100%;\r\n  }\r\n\r\n  .btn-group .btn {\r\n    border-radius: 6px !important;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n\r\n/* Print Styles */\r\n@media print {\r\n  .btn-group,\r\n  .fc-button-group,\r\n  .modal-overlay {\r\n    display: none !important;\r\n  }\r\n\r\n  .calendar-wrapper {\r\n    box-shadow: none;\r\n    padding: 0;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}