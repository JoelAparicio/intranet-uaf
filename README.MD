# ğŸ“‚ Intranet Corporativa â€“ GestiÃ³n de Solicitudes y Aprobaciones

Sistema integral de gestiÃ³n de solicitudes internas, diseÃ±ado para facilitar procesos de **permisos**, **vacaciones**, **misiones oficiales** y validaciones jerÃ¡rquicas dentro de una organizaciÃ³n.  
Desarrollado con **Laravel 10 (PHP 8.1)** en el backend y **Vue 3 + Composition API** en el frontend, siguiendo una arquitectura modular, segura y preparada para SQL Server.

---

## ğŸš€ CaracterÃ­sticas Principales

- ğŸ“‘ **GestiÃ³n de Solicitudes** (permisos, vacaciones, misiones oficiales)
- ğŸ”— **Flujos de AprobaciÃ³n** basados en jerarquÃ­a de roles con **Spatie Laravel Permission**
- ğŸ‘¥ **Panel del colaborador, jefatura y Recursos Humanos**
- âœ’ï¸ **Firmas digitales por rol** integradas automÃ¡ticamente en los PDF generados
- ğŸ–¨ï¸ **GeneraciÃ³n de documentos** con Blade + DomPDF
- ğŸ” **AutenticaciÃ³n con Sanctum** y manejo granular de permisos
- ğŸ–¼ï¸ **Carga y gestiÃ³n de firma de usuario** mediante **Intervention Image**
- ğŸ“§ **Notificaciones inteligentes por correo** *(pendiente de implementaciÃ³n)*
- ğŸ“Š **Dashboard administrativo** con control de acceso y mÃ©tricas clave
- ğŸ—„ï¸ **Soporte nativo para SQL Server**
- âš™ï¸ **Jobs & Queues** para generaciÃ³n y firma de PDFs en segundo plano

---

## ğŸ› ï¸ TecnologÃ­as

| Capa | TecnologÃ­as |
|------|-------------|
| **Backend (Laravel 10 + PHP 8.1)** | Laravel Sanctum â€¢ Spatie Laravel Permission â€¢ DomPDF â€¢ Intervention Image â€¢ Jobs & Queues â€¢ API RESTful estructurada |
| **Frontend (Vue 3 + Composition API)** | Vuex â€¢ Vue Router â€¢ Axios (con interceptor Bearer) â€¢ Bootstrap 5 â€¢ FontAwesome â€¢ SweetAlert2 â€¢ Moment.js |

---

## ğŸ“ Estructura del Proyecto

intranet-backend/ # Backend Laravel 10
â”‚ â”œâ”€â”€ app/Http/Controllers/
â”‚ â”œâ”€â”€ database/
â”‚ â””â”€â”€ resources/views/pdf/solicitud.blade.php
â””â”€ intranet-frontend/ # Frontend Vue 3
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ router/index.js
â”‚ â”œâ”€â”€ store/index.js
â”‚ â”œâ”€â”€ views/
â”‚ â””â”€â”€ components/
â””â”€â”€ public/

yaml
Copiar
Editar

---

## ğŸ”™ Backend

### Controladores clave

| Controlador | Responsabilidad |
|-------------|-----------------|
| **AuthController** | Registro, login, logout. Valida datos y crea el token Sanctum. |
| **UserController** | Obtiene/edita datos del usuario, carga la firma digital y administra usuarios. |
| **SolicitudesController** | Registra solicitudes, calcula duraciÃ³n, ajusta tiempo extra y genera el PDF inicial. |
| **AprobacionesController** | Filtra y gestiona aprobaciones segÃºn rol; aprueba/rechaza y genera el PDF de aprobaciÃ³n. |
| **DocumentController** | Compila datos (incl. firmas) y crea el PDF final de la solicitud. |
| **BirthdayController** | Gestiona calendario de cumpleaÃ±os. |
| **RolesController** | Lista, crea y asigna roles (Spatie). |

### Seeds importantes

- **DepartamentoSeeder** â€“ CatÃ¡logo de departamentos
- **TiposolicitudSeeder** â€“ Tipos de solicitud
- **RolesAndPermissionsSeeder** â€“ Roles iniciales
- **BirthdaySeeder** â€“ CumpleaÃ±os de colaboradores
- **UserSeeder** â€“ Usuario administrador por defecto

### Principales migraciones

- **usuarios**, **solicitudes**, **aprobaciones** â€“ Tablas bÃ¡sicas y relaciones
- **departamentos**, **tipos_solicitud** â€“ CatÃ¡logos de referencia
- **documentos**, **notificaciones**, **eventos**, **auditorias** â€“ PDFs generados, correos, calendarios y bitÃ¡coras

### Vistas Blade

- `resources/views/pdf/solicitud.blade.php` â€“ Plantilla del documento PDF con campos, firmas y estilos

---

## ğŸ”œ Frontend

### NÃºcleo de la aplicaciÃ³n

| Archivo | FunciÃ³n |
|---------|---------|
| `router/index.js` | Ruteo protegido y sub-rutas para colaborador, aprobaciones y admin |
| `store/index.js` | GestiÃ³n de autenticaciÃ³n (token), registro y logout con Axios |
| `main.js` | Bootstrap de la app, plugins (Bootstrap, SweetAlert2, FontAwesome) e interceptor Axios |

### Vistas principales

| Vista | DescripciÃ³n |
|-------|-------------|
| **Login.vue / Register.vue** | Formularios con validaciones y animaciones |
| **MiEspacio.vue** | Datos del usuario, creaciÃ³n de solicitudes e historial |
| **PortalColaboradores.vue** | Calendario de cumpleaÃ±os y directorio; modales para agregar/exportar datos |
| **PortalAprobaciones.vue** | Tabs (pendientes, aceptadas, rechazadas); modales para ver PDF y aprobar/rechazar |
| **Administradores.vue** | Consolida **Roles.vue** y **Lista_Usuario_Rol.vue** para administraciÃ³n |

### Componentes destacados

| Componente | Funcionalidad |
|------------|---------------|
| **Solicitudes.vue** | Tarjetas por tipo de solicitud; formularios en modales (permiso, vacaciones, etc.) |
| **Lista_Aprobaciones.vue** | Tabla con aprobar/rechazar/ver PDF; modal de visualizaciÃ³n |
| **Datos_Usuario.vue** | InformaciÃ³n personal; ediciÃ³n y carga de firma digital mediante modales |

---